<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>Description of yabasic</title>
</head>

<body bgcolor="#FFFFFF">

<h1><font color="#400040">Yabasic, </font><font color="#400040"
size="4">yet another basic</font><font size="4"> for Unix and
Windows</font></h1>

<h2>Current Version: 2.45</h2>

<p>This document describes the syntax and features of yabasic.</p>

<p>In short, yabasic implements the most common (and simple)
elements of the basic-language, plus some graphic facilities;
anyone, who has ever written basic-programs should feel at home.</p>

<p>This page covers all the features of yabasic, you don't need
any other text to learn it. In fact, there is no other text about
yabasic, neither a unix-man-page nor a Windows-helpfile.</p>

<p>This text doesn't teach basic from scratch, it rather assumes
some experience with the basic-programming-language.</p>

<hr>

<h2><a name="Table of contents">Table of contents</a></h2>

<ul>
    <li><a href="#Unix">Yabasic under Unix</a><ul>
            <li><a href="#Starting, Unix">Usage</a></li>
            <li><a href="#Options, Unix">Options</a></li>
            <li><a href="#Setting defaults, Unix">Setting
                Defaults</a></li>
        </ul>
    </li>
    <li><a href="#Windows 95">Yabasic under Windows</a><ul>
            <li><a href="#Usage, Windows">Usage</a></li>
            <li><a href="#Options, Windows">Options</a></li>
            <li><a href="#Setting defaults, Windows">Setting
                Defaults</a></li>
        </ul>
    </li>
    <li><a href="#Yabasic described by examples">Yabasic
        explained by examples</a><ul>
            <li><a href="#A simple Program">A simple Program with
                <font face="Courier New"><strong>input</strong></font>
                and <font face="Courier New"><strong>print</strong></font></a></li>
            <li><a href="#Arithmetic">Arithmetic</a>: <a
                href="#Operators">Operators</a> and <a
                href="#Functions">Functions</a></li>
            <li><a href="#Making decisions">Making decisions: The
                if-statement</a></li>
            <li><a href="#Strings and loops">Strings and loops</a></li>
            <li><a href="#Graphics and printing">Graphics and
                printing</a></li>
            <li><a href="#Plotting">Plotting</a></li>
            <li><a href="#Data and Arrays">Data and Arrays</a></li>
            <li><a href="#Files and more on input">Files and more
                on input</a></li>
            <li><a href="#Calling the Operating System">Interaction
                with the Operating System</a></li>
            <li><a href="#Peek and Poke">Peek and Poke</a></li>
            <li><a href="#More on print">Pretty Printing: <font
                face="Courier New"><strong>print</strong></font><font
                size="3" face="Courier New"><strong> at()</strong></font></a>
                and<font size="3" face="Courier New"><strong> </strong></font><a
                href="#print using"><font size="3"
                face="Courier New"><strong>print using</strong></font></a></li>
            <li><a href="#Loose Ends">Loose Ends</a></li>
        </ul>
    </li>
    <li><a href="#Index">Index</a><ul>
            <li><a href="#Index of keywords">Index of Keywords</a></li>
            <li><a href="#Index of concepts">Index of Concepts</a></li>
        </ul>
    </li>
    <li><a href="#internals">Yabasic background</a></li>
    <li><a href="#copy">Copyleft </a></li>
</ul>

<hr>

<h1><a name="Unix">Unix</a></h1>

<h2><a name="Starting, Unix">Starting</a></h2>

<p>There are three way to start yabasic:</p>

<table border="0">
    <tr>
        <td valign="top"><strong>1.</strong></td>
        <td valign="top">You may write your basic-program to a
        file (e.g. foo.yab) and call yabasic with this file as an
        argument:<blockquote>
            <blockquote>
                <p><code><strong>yabasic</strong></code><font
                face="Courier"><code><strong> </strong></code></font><font
                face="Courier New"><code><strong>foo.yab</strong></code>
                </font></p>
            </blockquote>
        </blockquote>
        <p>this will make yabasic execute your program.</p>
        </td>
    </tr>
    <tr>
        <td valign="top"><strong>2.</strong></td>
        <td valign="top">You may start you yabasic without any
        filename. Typing just<blockquote>
            <blockquote>
                <p><code><strong>yabasic</strong></code></p>
            </blockquote>
        </blockquote>
        <p>makes yabasic start and prompt for commands to
        execute; after you have typed in your program, press <code><strong>RETURN</strong></code>
        twice and yabasic will execute your commands. This
        behavior allows yabasic to be used as some sort of fancy
        desktop calculator.</p>
        </td>
    </tr>
    <tr>
        <td valign="top"><strong>3.</strong></td>
        <td valign="top">You may put your program into a file and
        insert the following text as the <strong>very first line</strong>:<blockquote>
            <blockquote>
                <p><code><strong>#!/usr/bin/yabasic</strong></code></p>
            </blockquote>
        </blockquote>
        <p>This is only an example and you should substitute for <code><strong>/usr/bin/yabasic</strong></code>
        the full pathname of yabasic on your computer. Yabasic
        will treat the line starting with <code><strong>#!</strong></code>
        as a comment, but Unix will invoke yabasic to execute
        this program.</p>
        </td>
    </tr>
</table>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Options, Unix">Options</a></h2>

<dl>
    <dt><code><strong>-h</strong></code></dt>
    <dd>Prints out a short help message; <code><strong>-help</strong></code>
        or <code><strong>-?</strong></code> are accepted as well.
    </dd>
    <dt><code><strong>-fg</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>foreground-color</var></strong></em></font></dt>
    <dd>Sets the foreground color for graphics. The usual X
        colornames like <em>red, green</em> are accepted.</dd>
    <dt><code><strong>-bg</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>background-color</var></strong></em></font><strong>
        </strong></dt>
    <dd>Sets the background color. </dd>
    <dt><code><strong>-geometry</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>geometry-string</var></strong></em></font><strong>
        </strong></dt>
    <dd>The usual X geometry-string will work (e.g. <code>+10+10</code>),
        but any window size will be ignored.</dd>
    <dt><code><strong>-display</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>Name-of-Display</var></strong></em></font><strong>
        </strong></dt>
    <dd>Name of the Display, where the window should appear. </dd>
    <dt><code><strong>-font</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>Name-of-font</var></strong></em></font></dt>
    <dd>Name of the font, which will be used for graphics text. </dd>
    <dt><code><strong>-i</strong></code></dt>
    <dd>Sets the initial <a name="infolevel">infolevel</a>. This
        controls the amount of information one gets about the
        progress of program execution, Every level contains all
        lower levels (e.g. <code><strong>w</strong></code>
        contains <code><strong>f</strong></code> and <code><strong>e</strong></code>)
        and can be one of: <dl>
            <dt><code><strong>d</strong></code><strong> </strong></dt>
            <dd>Set the infolevel to <em><strong>diagnostic</strong></em><em>
                </em>: This gives detailed debugging information;
                much more output than you'd probably like to
                read. </dd>
            <dt><code><strong>n</strong></code></dt>
            <dd><em><strong>note</strong></em><em> </em>: Useful
                information; e.g. about execution time and memory
                consumption. </dd>
            <dt><code><strong>w</strong></code> </dt>
            <dd><em><strong>warning</strong></em><em> </em>:
                Gives you warnings, that something has gone wrong
                (e.g. division by zero); nevertheless execution
                proceeds. </dd>
            <dt><code><strong>e</strong></code> </dt>
            <dd><em><strong>error</strong></em><em> </em>: A
                serious error (e.g. an array boundary violation)
                has occurred, stopping the program. </dd>
            <dt><code><strong>f</strong></code> </dt>
            <dd><em><strong>fatal</strong></em><em> </em>:
                Something has gone wrong and cannot be fixed; the
                interpreter exits immediately. This happens most
                often in the course of an arithmetic fault
                (floating point exception) but can also be a sign
                of an internal error within yabasic. </dd>
        </dl>
        <p>The default infolevel is <code><strong>w</strong></code>.
        </p>
    </dd>
    <dt><font face="Courier New"><strong>-licence</strong></font></dt>
    <dd>This makes yabasic print out its copyleft; have a look
        and you will see, that almost anything is allowed.</dd>
    <dt>&nbsp;</dt>
    <dt><a href="#Table of contents">Back to table of contents
        ...</a></dt>
</dl>

<hr>

<h2><a name="Setting defaults, Unix">Setting defaults</a></h2>

<p>The colors, text-font and the window position should be set on
the <a href="#options">command-line </a>, or specified in the
users resource file (this is usually the file<font
face="Courier New"><strong> .Xresources</strong></font> in your
home-directory); e.g.: </p>

<blockquote>
    <pre>  <strong>yabasic*foreground: blue
  yabasic*background: gold
  yabasic*geometry: +10+10	
  yabasic*font: 9x15</strong></pre>
</blockquote>

<p><font size="3">This sets the foreground of the graphics-window
to blue, the background to gold, the window will appear at
position 10,10 and the text-font will be 9x15.</font></p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h1><a name="Windows 95">Windows</a></h1>

<h2><a name="Usage, Windows">Usage</a></h2>

<p>After you have run the setup program, yabasic can be invoked
in three ways: </p>

<table border="0">
    <tr>
        <td valign="top"><strong>1.</strong></td>
        <td>Choose &quot;yabasic&quot; from the start-menu:
        Yabasic will come up with a console window and wait for a
        program to be typed in right away. </td>
    </tr>
    <tr>
        <td valign="top"><strong>2.</strong></td>
        <td>Click with the right mousebutton on your desktop.
        Choose &quot;new&quot; from the context-menu that
        appears; this will create a new icon on your desktop. The
        context-menu of this icon has the two entries
        &quot;execute&quot; and &quot;edit&quot;; a double-click
        executes the program.</td>
    </tr>
    <tr>
        <td valign="top"><strong>3.</strong></td>
        <td>Create a file containing your yabasic-program. This
        file should have the extension &quot;.yab&quot;.
        Double-click on this file then invokes yabasic, to
        execute your program. </td>
    </tr>
</table>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Options, Windows">Options</a></h2>

<dl>
    <dt><code><strong>-h</strong></code><strong> </strong></dt>
    <dd>Prints out a short help message; <code><strong>-help</strong></code>
        or <code><strong>-?</strong></code> are accepted as well.
    </dd>
    <dt><code><strong>-geometry</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>geometry-string</var></strong></em></font>
    </dt>
    <dd>E.g. <code><strong>+20+10</strong></code> will place the
        graphic-window 10 pixels below and 20 pixels left of the
        upper left corner of the screen.</dd>
    <dt><code><strong>-font</strong></code><strong> </strong><font
        face="Times New Roman"><em><strong><var>Name-of-font</var></strong></em></font></dt>
    <dd>Name of the font which will be used for graphics text.
        Can be any of: <br>
        <code><strong>decorative, dontcare, modern, roman,
        script, swiss</strong></code> <br>
        You can append (without space) a fontsize to any of these
        identifiers, i.e. <font face="Courier New"><strong>swiss30</strong></font>
        chooses a swiss font, 30 pixels high.</dd>
    <dt><code><strong>-i</strong></code></dt>
    <dd>Sets the initial <a name="infolevel">infolevel</a>. This
        controls the amount of information one gets about the
        progress of program execution, Every level contains all
        lower levels (e.g. <code><strong>w</strong></code>
        contains <code><strong>f</strong></code> and <code><strong>e</strong></code>)
        and can be one of: <dl>
            <dt><code><strong>d</strong></code><strong> </strong></dt>
            <dd>Set the inoflevel to <em><strong>diagnostic</strong></em><em>
                </em>: This gives detailed debugging information;
                much more output than you'd probably like to
                read. </dd>
            <dt><code><strong>n</strong></code></dt>
            <dd><em><strong>note</strong></em><em> </em>: Useful
                information; e.g. about execution time and memory
                consumption. </dd>
            <dt><code><strong>w</strong></code> </dt>
            <dd><em><strong>warning</strong></em><em> </em>:
                Gives you warnings, that something has gone wrong
                (e.g. division by zero); nevertheless execution
                proceeds. </dd>
            <dt><code><strong>e</strong></code> </dt>
            <dd><em><strong>error</strong></em><em> </em>: A
                serious error (e.g. an array boundary violation)
                has occurred, stopping the program. </dd>
            <dt><code><strong>f</strong></code> </dt>
            <dd><em><strong>fatal</strong></em><em> </em>:
                Something has gone wrong and cannot be fixed; the
                interpreter exits immediately. This happens most
                often in the course of an arithmetic fault
                (floating point exception) but can also be a sign
                of an internal error within yabasic. </dd>
        </dl>
        <p>The default infolevel is <code><strong>w</strong></code>.
        </p>
    </dd>
    <dt><font face="Courier New"><strong>-licence</strong></font></dt>
    <dd>This makes yabasic print out its copyleft; have a look
        and you will see, that almost anything is allowed.</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Setting defaults, Windows">Setting defaults</a></h2>

<p>To choose the default-values for graphic-font, fontsize and
window position, you have to edit the registry.</p>

<p>Yabasic stores its defaults under:</p>

<blockquote>
    <p><font face="Courier New"><strong>HKEY_LOCAL_MACHINE/SOFTWARE/Yabasic</strong></font></p>
</blockquote>

<p>You may edit the subkeys &quot;font&quot; and
&quot;geometry&quot;; these subkeys accept the same values as the
corresponding <a href="#Options, Windows">command line options</a>
<font face="Courier New"><strong>-font</strong></font> and <font
face="Courier New"><strong>-geometry</strong></font>. Command
line options take precedence over registry defaults.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h1><a name="Yabasic described by examples">Yabasic explained by
examples</a></h1>

<h2><a name="A simple Program">A simple Program</a></h2>

<p>This is the first example:</p>

<blockquote>
    <pre><strong>REM this is the first yabasic-program
input &quot;Enter two numbers:&quot; a,b
print a,&quot;+&quot;,b,&quot;=&quot;,a+b
print &quot;Please enter your Name:&quot;;
INPUT a$
print &quot;Hello &quot;,a$,&quot; !&quot;</strong></pre>
</blockquote>

<p>This program produces the following output (user input is
displayed like <font face="Courier New"><em><strong><u>this</u></strong></em></font>):</p>

<blockquote>
    <pre><strong>Enter two numbers: </strong><font
color="#000000"><em><strong><u>2 3</u></strong></em></font><strong>
2+3=5
Please enter your Name: </strong><em><strong><u>Bill</u></strong></em><strong>
Hello Bill !</strong></pre>
</blockquote>

<p>This simple program contains three different commands:</p>

<dl>
    <dt><a name="REM"><font face="Courier New"><strong>REM</strong></font></a></dt>
    <dd>The <font face="Courier New"><strong>REM</strong></font>-statement
        introduces comments; everything after <font
        face="Courier New"><strong>REM</strong></font> up to the
        end of the line is ignored.</dd>
    <dt><a name="input"><font face="Courier New"><strong>input</strong></font></a></dt>
    <dd>This statement reads one or more variables from the user.
        The optional prompt-string after the <font
        face="Courier New"><strong>input</strong></font>-statement
        (<font face="Courier New">&quot;<strong>Enter a number:</strong>&quot;</font>)
        is printed on the terminal prior to reading any input.
        Note that there is no semicolon after this prompt-string.
        To learn more about, how input chops a line into pieces
        you may refer to the section <a href="#More on input">More
        on Input</a>. To learn, how to read input from the
        keyboard without delay, check out <a
        href="#Getting a key from the keyboard">Getting a key
        from the keyboard</a>.</dd>
    <dt><a name="print"><font face="Courier New"><strong>print</strong></font></a></dt>
    <dd>The print-statement writes all its arguments to the
        screen; after writing its last argument, <font
        face="Courier New"><strong>print</strong></font> goes to
        the next line (as in<font face="Courier New"> <strong>print
        &quot;Hello &quot;,a$,&quot; !&quot;</strong></font>); to
        avoid this automatic newline, place a colon after the
        last argument (as in<font face="Courier New"> <strong>print
        &quot;Please enter your Name:&quot;;</strong></font>).
        Note that print can be abbreviated with a single question
        mark (?). If you want to print (or input) at a specific
        location, you may go to the section <a
        href="#Printing at a Random Position">Prining on your
        Screen</a>.</dd>
</dl>

<p>Furthermore some general properties of yabasic should be
noted:</p>

<dl>
    <dt><a name="Case"><strong>Case</strong></a></dt>
    <dd>Commands can be entered in any case: <font
        face="Courier New"><strong>input</strong></font> is the
        same as <font face="Courier New"><strong>INPUT</strong></font>
        and even as <font face="Courier New"><strong>InPUt</strong></font><strong>.
        This applies to every command in yabasic but not to
        variables, i.e. </strong><font face="Courier New"><strong>a$</strong></font><strong>
        and </strong><font face="Courier New"><strong>A$</strong></font><strong>
        are different variables.</strong></dd>
    <dt><a name="Variables"><strong>Variables</strong></a></dt>
    <dd>Variable names are case sensitive (i.e. types of
        variables: <font face="Courier New"><strong>a$</strong></font>
        and <font face="Courier New"><strong>A$</strong></font>
        are different) and can be of any length. There are two
        sorts of variables:</dd>
    <dt>&nbsp;</dt>
    <dd><dl>
            <dt>String variables</dt>
            <dd>e.g.<font face="Courier New"> <strong>a$</strong></font>,
                <font face="Courier New"><strong>b12$</strong></font>
                or <font face="Courier New"><strong>VeryLongName$</strong>
                </font>may contain strings of any length. String
                variables always have a Dollar-sign (<font
                face="Courier New"><strong>$</strong></font>) as
                the last character of their names.</dd>
            <dt>Numerical variables</dt>
            <dd>e.g. <font face="Courier New"><strong>a</strong></font>,
                <font face="Courier New"><strong>c3po</strong></font>
                or <font face="Courier New"><strong>ThisIsAnEvenLongerName</strong></font>
                contain real numbers like 2, -1.3, 15.3e44 or 0.</dd>
        </dl>
        <p>Variables (with the exception of arrays) need not be
        declared, their initial values are &quot;&quot; (for
        string variables) and 0.0 (for numerical variables).</p>
    </dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Arithmetic">Arithmetic</a></h2>

<h3><a name="Operators">Operators</a></h3>

<p>Yabasic has five arithmetic operators: <font
face="Courier New"><strong>+</strong></font> (addition), <font
face="Courier New"><strong>-</strong></font> (subtraction), <font
face="Courier New"><strong>*</strong></font> (multiplication), <font
face="Courier New"><strong>/</strong></font><strong> </strong>(division)
and <font face="Courier New"><strong>^</strong></font> (power);
they all behave as expected, i.e. this line of code</p>

<blockquote>
    <pre><strong>print 1+2,2*3,4/2,2^3</strong></pre>
</blockquote>

<p>produces this line of output:</p>

<blockquote>
    <pre><strong>3 6 2 8</strong></pre>
</blockquote>

<p>Note that the power operator (<font face="Courier New"><strong>^</strong></font>)
handles fractional powers: <font face="Courier New"><strong>8^(1/3)</strong></font>
gives <font face="Courier New"><strong>2</strong></font> as a
result.</p>

<h3><a name="Functions">Functions</a></h3>

<p>This section demonstrates and explains the arithmetic
functions of yabasic.</p>

<dl>
    <dt><a name="Trigonometric functions:"><strong>Trigonometric
        functions:</strong></a></dt>
    <dd>There are 6 trigonometric functions:<dl>
            <dd><pre><strong>print sin(1.0),cos(pi),tan(3)
print asin(0.5),acos(0.7)
print atan(2),atan(1,2)</strong></pre>
            </dd>
        </dl>
    </dd>
    <dd>These lines produce this output:<dl>
            <dd><pre><strong>0.841471 -1 -0.142547
0.523599 0.795399
1.10715 0.463648</strong></pre>
            </dd>
        </dl>
    </dd>
    <dd>As you can see yabasic can calculate sine, cosine,
        tangent and their inverses. And, if you have an eye for
        trigonometry, you may have noticed that all these
        functions expect their argument in radians; to facilitate
        the transformation from degrees to radians (<font
        face="Courier New"><strong>radian=degree*pi/180</strong></font>),
        there is a predefined variable named <font
        face="Courier New"><strong>pi</strong></font> (or <font
        face="Courier New"><strong>PI</strong></font>) which has
        an initial value of 3.14159.</dd>
</dl>

<dl>
    <dd>Finally note that the <font face="Courier New"><strong>atan()</strong></font>-function
        comes in <strong>two flavors</strong>: Called with a
        single argument (e.g. <font face="Courier New"><strong>atan(2)</strong></font>)
        <font face="Courier New"><strong>atan()</strong></font>returns
        a value between -pi/2 ... +pi/2. Called with two
        arguments (e.g. <font face="Courier New"><strong>atan(2,-1)</strong></font>)
        <font face="Courier New"><strong>atan()</strong></font>
        returns a value between -pi and +pi; (This can be useful
        e.g. when transforming from cartesian to polar
        coordinates).</dd>
    <dt><a name="Exponentiation:"><strong>Exponentiation:</strong></a></dt>
    <dd>The <font face="Courier New"><strong>exp()</strong></font>
        functions comes with its inverse. the <font
        face="Courier New"><strong>log()</strong></font>-function:<font
        face="Courier New"><strong> <br>
        print exp(1),log(2),log(euler) </strong></font><strong><br>
        </strong><font face="Courier New"><strong>log()</strong></font>
        and <font face="Courier New"><strong>exp()</strong></font>
        operate with the base e (=2.17828), which comes as a
        predefined variable named <font face="Courier New"><strong>euler</strong></font>.
        Knowing this you won't be surprised to get the following
        output:<br>
        <font face="Courier New"><strong>2.71828 0.693147 1</strong></font></dd>
    <dt><a name="Integer and fractional parts:"><strong>Integer
        and fractional parts:</strong></a></dt>
    <dd>The functions<font size="2" face="Courier New"><strong>
        int() </strong></font>and<font size="2"
        face="Courier New"><strong> frac() </strong></font>split
        their argument at the decimal point:<br>
        <font face="Courier New"><strong>print
        int(2.34),frac(2.34)</strong></font><strong> </strong>produces:
        <font face="Courier New"><strong>2 0.34</strong></font></dd>
    <dt><a name="Absolut values and signum"><strong>Absolut
        values and signum</strong></a></dt>
    <dd>The<font size="2" face="Courier New"><strong> abs() </strong></font>and<font
        size="2" face="Courier New"><strong> sig() </strong></font>functions
        return the absolute value and the signum of their
        arguments:<br>
        <font size="2" face="Courier New"><strong>print
        abs(-2.34),abs(2.34),sig(-2.34),sig(0),sig(2.34) </strong></font>produces:<font
        size="2" face="Courier New"><strong> 2.34 2.34 -1 0 1</strong></font></dd>
    <dt><a name="Remainder"><strong>Remainder</strong></a></dt>
    <dd>To get the remainder of a division employ the <font
        face="Courier New"><strong>mod()</strong></font>-function;
        e.g. <font face="Courier New"><strong>mod(11,4)</strong></font>
        produces <font face="Courier New"><strong>3</strong></font>,
        because when dividing 11 by 4 you get 2 and a remainder
        of 3.</dd>
    <dt><a name="Minimum and Maximum:"><strong>Minimum and
        Maximum:</strong></a></dt>
    <dd>Return the lower and higher value of their two arguments:<br>
        <font face="Courier New"><strong>print min(2,3),max(2,3)</strong></font><strong>
        </strong>gives: <font face="Courier New"><strong>2 3</strong></font></dd>
    <dt><a name="The square root"><strong>Square root and square:</strong></a></dt>
    <dd>The square root is calculated by <font face="Courier New"><strong>sqrt()</strong></font>,
        the square by<font face="Courier New"><strong> sqr()</strong></font>:
        <font face="Courier New"><strong><br>
        print sqrt(2),sqr(2) </strong></font>gives <font
        face="Courier New"><strong>1.41421 4</strong></font></dd>
    <dt><a name="Random numbers"><strong>Random numbers</strong></a><strong>:</strong></dt>
    <dd>are returned by the <font face="Courier New"><strong>ran()</strong></font>-function;
        this function comes in <strong>two flavours</strong>:
        Called without arguments (e.g. <font face="Courier New"><strong>print
        ran()</strong></font>) you will get a random number
        between 0 and 1. Called with a single argument (e.g. <font
        face="Courier New"><strong>print ran(2)</strong></font>)
        you will get a random number between 0 and the supplied
        argument.<br>
        The <font face="Courier New"><strong>ran()</strong></font>-function
        of yabasic uses the <font face="Courier New"><strong>ran()</strong></font>-function
        of the C standard library, so you had better not expect
        too much randomness ...</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Making decisions">Making decisions: The <font
size="4" face="Courier New"><strong>if</strong></font>-statement</a></h2>

<p>To make decisions you have to use the <font face="Courier New"><strong>if</strong></font>-statement:</p>

<blockquote>
    <pre><strong>input &quot;Please enter a number&quot; a
if (a&gt;10) then
  print &quot;Your number is bigger than 10&quot;
elsif (a&gt;5) then
  print &quot;Your number is bigger than 5 but less or equal 10&quot;
else
  print &quot;Your number is less or equal 5&quot;
endif</strong></pre>
</blockquote>

<p>As you can see, the condition has to be enclosed in
parentheses (...). The <font face="Courier New"><strong>else</strong></font>
and the <font face="Courier New"><strong>elsif</strong></font>-part
of the <font face="Courier New"><strong>if</strong></font>-statement
are optional and can be omitted, as in this example:</p>

<blockquote>
    <pre><strong>input &quot;Please enter a number&quot; a
if (a&gt;10 and a&lt;20) then
  print &quot;bigger than 10&quot;:print &quot;but less than 20&quot; 
fi</strong></pre>
</blockquote>

<p><a name="Note that endif">Note that <font face="Courier New"><strong>endif</strong></font></a>
can be written as <font face="Courier New"><strong>fi</strong></font>
too. </p>

<p>Next, have a look at the condition <font face="Courier New"><strong>(a&gt;10
and a&lt;20)</strong></font>of the <font face="Courier New"><strong>if</strong></font>-statement:</p>

<dl>
    <dt><a name="Conditions"><strong>Conditions</strong></a><strong>:</strong></dt>
    <dd>Numbers or arithmetic expressions can be compared with
        the usual relational operators: <font face="Courier New"><strong>=</strong></font>
        (equal), <font face="Courier New"><strong>&lt;&gt;</strong></font>
        (not equal), <font face="Courier New"><strong>&lt;</strong></font>
        (less than), <font face="Courier New"><strong>&lt;=</strong></font>
        (less or equal), <font face="Courier New"><strong>&gt;</strong></font>
        (greater than) and <font face="Courier New"><strong>&gt;=</strong></font><strong>
        </strong>(greater or equal).<br>
        Strings can be compared with just the same set of
        operators, where characters are ordered according to the
        ascii-charset; e.g. <font face="Courier New"><strong>(&quot;a&quot;&lt;&quot;b&quot;)</strong></font>
        is true (because <font face="Courier New"><strong>&quot;a&quot;</strong></font>
        precedes <font face="Courier New"><strong>&quot;b&quot;</strong></font>
        within the ascii-charset) and likewise <font
        face="Courier New"><strong>(&quot;a&quot;=&quot;b&quot;)</strong></font>
        is false.<br>
        More than one comparison can be combined with parentheses
        <font face="Courier New"><strong>()</strong></font> and
        these keywords: <font face="Courier New"><strong>or</strong></font>,
        <font face="Courier New"><strong>and</strong></font>, <font
        face="Courier New"><strong>not</strong></font>; Note that
        <font face="Courier New"><strong>not</strong></font>
        precedes <font face="Courier New"><strong>and</strong></font>,
        which in turn precedes <font face="Courier New"><strong>or</strong></font>
        (in the same way as <font face="Courier New"><strong>*</strong></font>
        precedes <font face="Courier New"><strong>+</strong></font>
        within arithmetic expressions).<br>
        Finally, the enclosing parantheses can be omitted, i.e.<font
        face="Courier New"><strong> if a&lt;10 then ... </strong></font>is
        a valid statement.</dd>
    <dt><a name="Multiple commands on one line"><strong>Multiple
        commands on one line</strong></a></dt>
    <dd>Note that more than one command can appear on one line,
        as in <font face="Courier New"><strong><br>
        print &quot;bigger than 10&quot;:print &quot;but less
        than 20&quot;<br>
        </strong></font>as long as you separate them with colons
        (:).</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Strings and loops">Strings and loops</a></h2>

<p>Basic has always been simple and strong in string-processing;
and yabasic also tries to continue in this tradition:</p>

<blockquote>
    <pre><strong>input &quot;Please enter a word&quot; a$
for a=len(a$) to 1 step -1:print mid$(a$,a,1);:next a
print &quot; is &quot;,a$,&quot; reversed !&quot;</strong></pre>
</blockquote>

<p>If you try this program, you will get this output:</p>

<blockquote>
    <pre><strong>Please enter a word: </strong><em><strong><u>hello</u></strong></em><strong>
olleh is hello reversed !</strong></pre>
</blockquote>

<dl>
    <dt><a name="for-next-loop"><strong>for-next-loop</strong></a></dt>
    <dd>The heart of the above program is the for-loop:
        everything from <font face="Courier New"><strong>for</strong></font>
        to <font face="Courier New"><strong>next</strong></font>
        is repeated, while the variable (<font face="Courier New"><strong>a</strong></font>)
        goes from its initial value <font face="Courier New"><strong>len(a$)</strong></font>
        to its final value <font face="Courier New"><strong>1</strong></font>.
        As you might have anticipated, <font face="Courier New"><strong>len(a$)</strong></font>
        returns the length of its string-argument.<br>
        Note the <font face="Courier New"><strong>step</strong></font>-clause:
        the number after <font face="Courier New"><strong>step</strong></font>
        (here: <font face="Courier New"><strong>-1</strong></font>)
        is added to <font face="Courier New"><strong>a</strong></font>
        after every repetition; in the example the <font
        face="Courier New"><strong>step</strong></font>-clause
        makes <font face="Courier New"><strong>a</strong></font>
        go down with every iteration. If you omit the
        step-clause, <font face="Courier New"><strong>step 1</strong></font>
        is assumed. Finally note, that you can leave the for next
        loop <strong>at any time</strong> by simple <font
        face="Courier New"><strong>goto</strong></font>. You may
        put the for-loop to some offbeat usage; e.g. <font
        size="3" face="Courier New"><strong>for a=1 to 100 step
        a:print a:next a</strong></font><font size="4"> </font>prints
        the powers off 2 up to 64.</dd>
</dl>

<p>Within the for-next-loop above the string-functions <font
face="Courier New"><strong>len()</strong></font> and <font
face="Courier New"><strong>mid$()</strong></font> are applied,
but there are many more string functions:</p>

<dl>
    <dt><a name="Getting pieces out of a string:"><strong>Getting
        pieces out of a string:</strong></a></dt>
    <dd>There are three functions which give back parts of a
        string:<br>
        <font face="Courier New"><strong>a$=&quot;123456&quot;<br>
        print
        left$(a$,2),&quot;-&quot;,mid$(a$,2,3),&quot;-&quot;,right$(a$,3)</strong></font><br>
        gives you the following output:<br>
        <font face="Courier New"><strong>12-234-456<br>
        </strong></font>As you see <font face="Courier New"><strong>left$()</strong></font>
        cuts off as many characters as specified by its second
        argument from the left of your string. <font
        face="Courier New"><strong>right$()</strong></font> cuts
        from the right, and <font face="Courier New"><strong>mid$()</strong></font>
        cuts in the middle, where the first argument is the
        starting point and the second one is the length of the
        string to be cut out.<br>
        Furthermore <font face="Courier New"><strong>mid$()</strong></font>
        and its friends can even be used to selectively change
        parts of a string:<br>
        <font face="Courier New"><strong>a$=&quot;123456&quot;:left$(a$,2)=&quot;abcd&quot;:print
        a$<br>
        </strong></font>results in<br>
        <font face="Courier New"><strong>ab3456<br>
        </strong></font>As you see only the two leftmost
        characters are changed (even though the string <font
        face="Courier New"><strong>&quot;abcd&quot;</strong></font>
        contains four characters); the same can be done with <font
        face="Courier New"><strong>mid$()</strong></font> or <font
        face="Courier New"><strong>right$()</strong></font>.</dd>
    <dt><a name="strings to numbers (and reverse):"><strong>strings
        to numbers (and reverse):</strong></a></dt>
    <dd>The function <font face="Courier New"><strong>str$()</strong></font>converts
        its numeric argument to a string: <br>
        <font face="Courier New"><strong>print str$(12)</strong></font>
        gives the string &quot;<font face="Courier New"><strong>12</strong></font>&quot;
        as a result. The formatting of the number can be
        influenced by an optional second argument: <font
        face="Courier New"><strong>print
        str$(12.123455,&quot;##.##&quot;)</strong></font> returns
        the string <font face="Courier New"><strong>12.12</strong></font>.
        The second argument has the same effect as the format of
        the <a href="#print using"><font face="Courier New">print
        using</font></a> statement.<br>
        Just the opposite is done by the function <font
        face="Courier New"><strong>val()</strong></font>: <font
        face="Courier New"><strong>print 2+val(&quot;23&quot;)</strong></font>
        gives <font face="Courier New"><strong>25</strong></font>
        as a result, whereas <font face="Courier New"><strong>print
        val(&quot;e2&quot;)</strong></font> delivers <font
        face="Courier New"><strong>0</strong></font> (because <font
        face="Courier New"><strong>&quot;e2&quot;</strong></font>
        is not a valid number).</dd>
    <dt><a name="The Ascii-Charset:"><strong>The ascii-charset:</strong></a></dt>
    <dd>yabasic offers two functions to work with the
        ascii-charset. <font face="Courier New"><strong>asc()</strong></font>
        gives you a specific ascii-character: <font
        face="Courier New"><strong>print asc(&quot;e&quot;)</strong></font>
        gives 101 as a result, because the character <font
        face="Courier New"><strong>&quot;e&quot;</strong></font>
        has position <font face="Courier New"><strong>101</strong></font>
        within the ascii-charset. Likewise the function <font
        face="Courier New"><strong>chr$()</strong></font> returns
        the ascii-char for a given position within the charset,
        e.g. <font face="Courier New"><strong>chr$(98)</strong></font>
        returns <font face="Courier New"><strong>&quot;b&quot;</strong></font>.</dd>
    <dt><a name="Escape-sequences"><strong>Escape-sequences</strong></a></dt>
    <dd>Nevertheless you won't use <font face="Courier New"><strong>chr$()</strong></font>
        as often as you might think, because the most important
        nonprintable characters can be constructed using
        escape-sequences with the <font face="Courier New"><strong>\</strong></font>-character:
        You might use <font face="Courier New"><strong>\n</strong></font>
        instead of <font face="Courier New"><strong>chr$(10)</strong></font>
        wherever you want to use the newline-character.</dd>
    <dd>The following table lists all escape sequences of yabasic
        (of course, these are just the sequences known within the
        C-language):<br>
        </dd>
    <dd><table border="1">
            <tr>
                <td align="center"><strong>Escape-sequence</strong></td>
                <td><strong>Resulting Char</strong></td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\n</strong></font></td>
                <td>newline</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\t</strong></font></td>
                <td>tabulator</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\v</strong></font></td>
                <td>vertical tabulator</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\b</strong></font></td>
                <td>backspace</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\r</strong></font></td>
                <td>carriage return</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\f</strong></font></td>
                <td>formfeed</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\a</strong></font></td>
                <td>alert</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\\</strong></font></td>
                <td>backslash</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\`</strong></font></td>
                <td>single quote</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>\&quot;</strong></font></td>
                <td>double quote</td>
            </tr>
        </table>
    </dd>
    <dd><br>
        These escape sequences are replaced within every pair of
        doublequotes (<font face="Courier New"><strong>&quot;&quot;</strong></font>),
        i.e. within literal strings; user input read with the<font
        face="Courier New"><strong> input</strong></font>-statement
        is not affected in any way.<br>
        Finally note, that escape sequences have a profound
        impact, when specifying <a
        href="#Specifying Window-pathnames">Window-pathnames</a>.</dd>
    <dd>&nbsp;</dd>
</dl>

<p>Here is another example which introduces the rest of yabasic's
string-functions:</p>

<blockquote>
    <dl>
        <dd><pre><strong>label loop
  print &quot;Please enter a string containing the word \&quot;yabasic\&quot;&quot;
  input a$
if (instr(lower$(a$),&quot;yabasic&quot;)&lt;&gt;0) then
  gosub thanx
else
  print &quot;No, please try again !&quot;
endif
goto loop

label thanx
  print &quot;Thanks a lot !&quot;
return</strong></pre>
        </dd>
    </dl>
</blockquote>

<p>If you run this program you will receive the following output:</p>

<blockquote>
    <dl>
        <dd><pre><strong>Please enter a string containing the word &quot;yabasic&quot;
?</strong><em><strong><u>thequickbrownfox</u></strong></em><strong>
No, please try again !
Please enter a string containing the word &quot;yabasic&quot;
?</strong><em><strong><u>jumpedyabasicoverthelazydog</u></strong></em><strong>
Thanx.</strong></pre>
        </dd>
    </dl>
</blockquote>

<dl>
    <dt><a name="Marking locations in a program"><strong>Marking
        locations in a program</strong></a></dt>
    <dd>The first line in the example-program (<font
        face="Courier New"><strong>label loop</strong></font>) is
        a label: As yabasic has no line-numbers, you need labels
        to mark a specific location within your program. You can
        compose labels out of letters and digits; the keyword <font
        face="Courier New"><strong>label</strong></font> is
        required and the label itself should be unique within
        your program. Note that yabasic allows for <a
        href="#linenumber">line numbers</a> too.</dd>
    <dt><a name="Jumping around in your program"><strong>Jumping
        around in your program</strong></a></dt>
    <dd>A label by itself causes no special action. Only in
        conjunction with the <font face="Courier New"><strong>goto</strong></font>-statement
        (or <font face="Courier New"><strong>gosub</strong></font>
        or <font face="Courier New"><strong>restore</strong></font>)
        does a label have any function. If yabasic encounters a <font
        face="Courier New"><strong>goto</strong></font>-statement
        (here: <font face="Courier New"><strong>goto loop</strong></font>)
        then it searches for the matching label (here: <font
        face="Courier New"><strong>label loop</strong></font>)
        and proceeds to execute at the position of the label.<br>
        Note that you can even leave (and enter !) a for-next
        loop with goto.<br>
        <br>
        Closely related to the <font face="Courier New"><strong>goto</strong></font>-command
        is the <font face="Courier New"><strong>gosub</strong></font>-command;
        if yabasic encounters a <font face="Courier New"><strong>gosub</strong></font>-statement
        then it searches for the matching label (<font
        face="Courier New"><strong>label thanx</strong></font> in
        the example) and proceeds with execution at the position
        of the label, until it finds a <font face="Courier New"><strong>return</strong></font>-statement.
        <font face="Courier New"><strong>return</strong></font>
        makes yabasic return to the position of the original
        gosub and proceed from there.<br>
        <br>
        Note that both <font face="Courier New"><strong>goto</strong></font>
        and <font face="Courier New"><strong>gosub</strong></font>
        can be used as <a href="#on gosub"><font
        face="Courier New"><strong>on goto</strong></font></a>
        and <a href="#on gosub"><font face="Courier New"><strong>on
        gosub</strong></font></a>.</dd>
    <dt><a name="Finding strings in strings"><strong>Finding
        strings in strings</strong></a></dt>
    <dd>The example program above checks whether the user input
        contains the string <font face="Courier New"><strong>&quot;yabasic&quot;</strong></font>;
        this is done with the help of the <font
        face="Courier New"><strong>instr()</strong></font>-function;
        <font face="Courier New"><strong>instr()</strong></font>
        gives back the position of its second string-argument
        within the first or zero, if it can't be found. E.g. <font
        face="Courier New"><strong>instr(&quot;Hallo&quot;,&quot;al&quot;)</strong></font>
        gives back 2, because <font face="Courier New"><strong>&quot;al&quot;</strong></font>
        appears at position 2 within <font face="Courier New"><strong>&quot;Hallo&quot;</strong></font>;
        whereas <font face="Courier New"><strong>instr(&quot;Hallo&quot;,&quot;Al&quot;)</strong></font>
        returns 0, because <font face="Courier New"><strong>&quot;Al&quot;</strong></font>
        is not contained in <font face="Courier New"><strong>&quot;Hallo&quot;</strong></font>
        (the case doesn't match).</dd>
    <dt><a name="Changing the case of strings"><strong>Changing
        the case of strings</strong></a></dt>
    <dd>The sample-program contains some further
        string-functions: <font face="Courier New"><strong>lower$()</strong></font>
        and its counterpart <font face="Courier New"><strong>upper$()</strong></font>
        convert their string-argument to all lower or all upper
        case characters respectively, i.e. <font
        face="Courier New"><strong>lower$(&quot;aBcD12fG&quot;)</strong></font>
        gives back <font face="Courier New"><strong>&quot;abcd12fg&quot;</strong></font>.</dd>
    <dt><a name="Removing spaces"><strong>Removing spaces</strong></a></dt>
    <dd><font face="Courier New"><strong>ltrim$()</strong></font>
        and <font face="Courier New"><strong>rtrim$()</strong></font>
        are two functions to remove leading or trailing spaces
        from a string, e.g. <font face="Courier New"><strong>ltrim$(&quot;
        foo &quot;) </strong></font>gives<font face="Courier New"><strong>
        &quot;foo &quot; </strong></font>and<font
        face="Courier New"><strong> rtrim$(&quot; foo &quot;) </strong></font>gives<font
        face="Courier New"><strong> &quot; foo&quot;</strong></font>.
        Finally<font face="Courier New"><strong>, trim$() </strong></font>is
        the same as<font face="Courier New"><strong>
        rtrim$(ltrime$())</strong></font>.</dd>
    <dt><a name="Splitting astring into tokens"><strong>Splitting
        a string into tokens</strong></a></dt>
    <dd>There is a handy function to split a string into tokens;
        an example would be:</dd>
    <dt>&nbsp;</dt>
    <dd><blockquote>
            <p><font size="3" face="Courier New"><strong>l$=&quot;
            one two three &quot;<br>
            label loop:print token$(a$):if
            (a$&lt;&gt;&quot;&quot;) then goto loop:fi</strong></font></p>
        </blockquote>
        <p>Running this program gives:</p>
    </dd>
</dl>

<blockquote>
    <blockquote>
        <p><font size="3" face="Courier New"><strong>one<br>
        two<br>
        three</strong></font></p>
    </blockquote>
    <p>Note, that <font face="Courier New"><strong>token$()</strong></font>
    automatically removes the tokens from <font
    face="Courier New"><strong>a$</strong></font>. If you supply
    a second argument (e.g. <font face="Courier New"><strong>token$(a$,&quot;:&quot;)</strong></font>),
    the tokens are split at the characters given in the second
    string.</p>
</blockquote>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Graphics and printing">Graphics and printing</a></h2>

<p>Yabasic provides some simple, general purpose
graphic-commands:</p>

<blockquote>
    <pre><strong>open window 400,400
line 0,0 to 400,400
circle 200,200,150
dot 200,200
a$=inkey$
clear window
text 100,200,&quot;Hello !&quot;
print &quot;Press any key to close the window&quot;
inkey$
close window</strong></pre>
</blockquote>

<dl>
    <dt><strong>Drawing</strong></dt>
    <dd>If you run this program, you will see a window with size
        of 400 pixels in x- and y-direction (the window size is
        given along with the <font face="Courier New"><strong>open
        window</strong></font>-statement). To specify a certain
        font for the text within this window, you may add a third
        argument, e.g. <font face="Courier New"><strong>open
        window 400,400,&quot;swiss&quot;</strong></font>.</dd>
    <dd><br>
        Not surprising: The <font face="Courier New"><strong>line</strong></font>-command
        draws a line, the <font face="Courier New"><strong>circle</strong></font>-command
        draws a circle (the arguments determine x- and y-position
        of the center and the radius of the circle) and the <font
        face="Courier New"><strong>dot</strong></font>-command
        draws a single dot at the specified location.<br>
        <br>
        After the user has pressed a key (see <a
        href="#Getting a key from the keyboard">below</a>) the
        window contents is cleared with the <font
        face="Courier New"><strong>clear window</strong></font>-statement.
        If you have your printer open (i.e. if you have issued
        the <font size="2" face="Courier New"><strong>open
        printer</strong></font>-command) <font size="2"
        face="Courier New"><strong>clear window</strong></font>
        finishes the current page, sends it to the printer and
        starts a new one.<br>
        <br>
        The next command in the example is the <font
        face="Courier New"><strong>text</strong></font>-statement,
        which writes its text at the specified position. Aligned
        with this position is the left lower corner of the text.
        To change the alignement, you can add as a third argument
        a two character string; The first one specifies the
        horizontal alignement and can be <font face="Courier New"><strong>&quot;l&quot;</strong></font>
        (text is left aligned), <font face="Courier New"><strong>&quot;r&quot;
        </strong></font>(right aligned) or <font
        face="Courier New"><strong>&quot;c&quot;</strong></font>
        (centered); the second character specifies the vertical
        alignement and can be <font face="Courier New"><strong>&quot;t&quot;</strong></font>
        (top of text is aligned), <font face="Courier New"><strong>&quot;b&quot;</strong></font>
        (bottom) or <font face="Courier New"><strong>&quot;c&quot;</strong></font>
        (center). Some valid arguments would be <font
        face="Courier New"><strong>&quot;ct&quot;</strong></font>,
        <font face="Courier New"><strong>&quot;rb&quot;</strong></font>,
        <font face="Courier New"><strong>&quot;lc&quot;</strong></font>,
        ... By the way: Textalignement can also be changed by <a
        href="#Peek and Poke"><font face="Courier New"><strong>poking</strong></font></a><font
        face="Courier New"> </font>into <font face="Courier New"><strong>&quot;textalign&quot;</strong></font>.<br>
        <br>
        Finally <font face="Courier New"><strong>close window</strong></font>
        closes the graphics-window.</dd>
    <dt><a name="Getting a key from the keyboard"><strong>Getting
        a key from the keyboard</strong></a></dt>
    <dd>But before the window is closed, the <a
        name="inkey$-statement"><font face="Courier New"><strong>inkey$</strong></font>-statement</a>
        waits, until the user presses any key and returns this
        key as a string. In this example the key, which is
        actually pressed is not important, so you may just write <font
        face="Courier New"><strong>inkey$</strong></font>
        (without assignment). Some important nonprintable keys
        (e.g. the function or cursor keys) are returned as
        strings: <strong>up, down, left, right, f1, f2, f3, f4,
        f5, f6, f7, f8, f9, f10, f11, f12, esc, ins, del, home,
        end, scrnup, scrndown, enter, tab, backspace. </strong>If
        your keyboard gives other keycodes than mine, or if you
        press a key, which is unknown to yabasic, you will
        receive a rather lengthy string (e.g. key1b5b31317e).<br>
        Normally yabasic's <font face="Courier New"><strong>inkey$</strong></font>
        waits until the user presses a key; but if you want the
        inkey$-function to return even if no key has been
        pressed, you may add a timeout (in seconds) argument.
        E.g.<font face="Courier New"> <strong>inkey$(2)</strong></font>
        returns immediately, if the user hits a key and after 2
        seconds (returning an empty string) if not; note that a
        timeout of 0 seconds is possible, which is the normal
        behaviour of other basics.</dd>
    <dt><a name="printing"><strong>Printing</strong></a></dt>
    <dd>Getting a hardcopy of your graphics involves two new
        commands:</dd>
</dl>

<blockquote>
    <blockquote>
        <pre><strong>open window 200,200
open printer
circle 100,100,80
close printer
close window</strong></pre>
    </blockquote>
</blockquote>

<dl>
    <dd>Everything between <font face="Courier New"><strong>open
        printer</strong></font> and <font face="Courier New"><strong>close
        printer</strong></font> appears on paper. If you prefer
        sending your hardcopy to a file, you may add a filename,
        e.g. <font face="Courier New"><strong>open printer
        &quot;foo&quot;</strong></font> sends the output to the
        file <font face="Courier New"><strong>foo</strong></font>.
        Note that the <font face="Courier New"><strong>open
        printer</strong></font> statement has to appear after the
        window has been opened. <font face="Courier New"><strong>close
        printer</strong></font> can be omitted; it is done
        automatically, if the window is closed.</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Plotting">Plotting</a></h2>

<p>Yabasics grafic is rather simple: It does not support color,
nor animation; but it <strong>does</strong> support plotting.
Have a look at the following program, which plots the sine
function, complete with axis and errors:</p>

<blockquote>
    <p><font size="2" face="Courier New"><strong>open window
    600,400<br>
    open printer<br>
    </strong></font><a href="#window origin"><font size="2"
    face="Courier New"><strong>window origin &quot;lb&quot;</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><a href="#rectangle"><font size="2"
    face="Courier New"><strong>rectangle 10,10 to 590,390</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    <br>
    </strong></font><a href="#map"><font size="2"
    face="Courier New"><strong>map -pi,-1,pi,1 to 40,60,560,330</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    arrow </strong></font><a href="#map"><font size="2"
    face="Courier New"><strong>map(-3.2,0)</strong></font></a><font
    size="2" face="Courier New"><strong> to map(3.2,0): rem this
    draws the x-axis<br>
    </strong></font><a href="#arrow"><font size="2"
    face="Courier New"><strong>arrow map(0,-1.2) to map(0,1.2)</strong></font></a><font
    size="2" face="Courier New"><strong>: rem this is the y-axis<br>
    for x=-3 to 3<br>
    if (x&lt;&gt;0) then </strong></font><a href="#xtick"><font
    size="2" face="Courier New"><strong>xtick map(x,0),str$(x)</strong></font></a><font
    size="2" face="Courier New"><strong> fi: rem these are ticks<br>
    if (x&lt;3) then xtick map(x+0.5,0) fi<br>
    next x<br>
    </strong></font><a href="#map"><font size="2"
    face="Courier New"><strong>ytick map(0,-1),&quot;-1&quot;</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    ytick map(0,1),&quot;+1&quot;<br>
    <br>
    </strong></font><a href="#new line"><font size="2"
    face="Courier New"><strong>new curve</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    for x=-3 to 3 step 0.3: rem this loop actually draws the
    function<br>
    y=sin(x)<br>
    </strong></font><a href="#new line"><font size="2"
    face="Courier New"><strong>line to map(x,y)</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><a href="#marker"><font size="2"
    face="Courier New"><strong>marker map(x,y),&quot;dot&quot;</strong></font></a><font
    size="2" face="Courier New"><strong>: rem mark the function
    points with &quot;dots&quot;<br>
    rem even plot some made-up errors<br>
    marker map(x,y),&quot;err&quot;,ran(0.3),ran(0.5)<br>
    next x<br>
    <br>
    map 0,0,100,4 to 400,250,590,320<br>
    </strong></font><a href="#rectangle"><font size="2"
    face="Courier New"><strong>box map(0,2) to map(90,4)</strong></font></a><font
    size="2" face="Courier New"><strong>: rem draw the legend<br>
    </strong></font><font color="#000000" size="2"
    face="Courier New"><strong>marker</strong></font><font
    size="2" face="Courier New"><strong>
    map(10,3),&quot;dot&quot;<br>
    marker map(10,3),&quot;err&quot;,0.5<br>
    text map(20,3),&quot;Sine with errors&quot;,&quot;lc&quot;<br>
    <br>
    inkey$<br>
    close printer<br>
    close window</strong></font></p>
</blockquote>

<p>First thing you will notice: The program is rather long;
plotting with yabasic still requires a lot of code, but at least
there are some commands, which reduce the work; these are
explained below:</p>

<dl>
    <dt><a name="window origin"><font size="2" face="Courier New"><strong>window
        origin &quot;lb&quot;</strong></font></a></dt>
    <dd>In normal cases the coordinate origin (i.e. the point
        0,0) of any window lies in the upper left corner; the
        command <font size="2" face="Courier New"><strong>window
        origin</strong></font> can move this origin to any of the
        four corners of a window. The string argument
        (&quot;lb&quot; in the example) consists of two chars;
        the first one can be &quot;l&quot; (for left) or
        &quot;r&quot; (for right); the second char can be
        &quot;t&quot; (for top) or &quot;b&quot; (for bottom).
        This gives you a total of four variants &quot;lb&quot;,
        &quot;lt&quot;, &quot;rb&quot; and &quot;rt&quot;, which
        correspond with the four corners of a window.<br>
        Once the origin has been moved, it applies to any grafic
        operation whatsoever.</dd>
    <dt><a name="rectangle"><font size="2" face="Courier New"><strong>rectangle
        10,10 to 590,390</strong></font></a></dt>
    <dd>This command simply draws a rectangle, defined by any two
        opposite corners. Closely related with <font size="2"
        face="Courier New"><strong>rectangle</strong></font> is
        the <font size="2" face="Courier New"><strong>box</strong></font>-command,
        which draws a rectangle too, but additionally clears its
        interior.</dd>
    <dt><a name="map"><font size="2" face="Courier New"><strong>map
        -pi,-1,pi,1 to 40,60,560,330</strong></font></a><font
        size="2" face="Courier New"><strong> </strong></font>and<font
        size="2" face="Courier New"><strong> map(10,3)</strong></font></dt>
    <dd>The <font size="2" face="Courier New"><strong>map</strong></font>-command
        comes in two variants: The first one (<font size="2"
        face="Courier New"><strong>map -pi,-1,pi,1 to
        40,60,560,330</strong></font> in the example) defines a
        mapping, the second one (<font size="2"
        face="Courier New"><strong>map(10,3)</strong></font> in
        the example) may be used <strong>at any point</strong>,
        where a coordinate pair is required (e.g. you may write <font
        size="2" face="Courier New"><strong>dot map(10,10)</strong></font>
        instead of <font size="2" face="Courier New"><strong>dot
        10,10</strong></font>). <font size="2" face="Courier New"><strong>map(x,y)</strong></font>
        transforms a coordinate pair, depending on the previously
        defined mapping; As an example: After <font size="2"
        face="Courier New"><strong>map p1,q1,p2,q2 to x1,y1,x2,y2</strong></font>
        the commands <font size="2" face="Courier New"><strong>dot
        map(p1,q1)</strong></font> and <font size="2"
        face="Courier New"><strong>dot x1,y1</strong></font>
        would draw the same point; also <font size="2"
        face="Courier New"><strong>map(p2,q2)</strong></font> and
        <font size="2" face="Courier New"><strong>x2,y2</strong></font>
        designate the same point. Any intermediate point would be
        interpolated linearly.<br>
        As can be seen in the example, the map-command is used to
        map the x and y-range (-1 ... +1 and -pi ... +pi in the
        example) of a function to the part of the window reserved
        for the plot. This mapping saves a lot of trivial
        calculations.<br>
        Finally note, that there are two additional functions <font
        size="2" face="Courier New"><strong>mapx()</strong></font>
        and <font size="2" face="Courier New"><strong>mapy()</strong></font>,
        both with a single argument, which transform just one
        coordinate.</dd>
    <dt><a name="arrow"><font size="2" face="Courier New"><strong>arrow
        map(0,-1.2) to map(0,1.2)</strong></font></a></dt>
    <dd>The <font size="2" face="Courier New"><strong>arrow</strong></font>-command
        draws an arrow between the specified points; the example
        employs the <font size="2" face="Courier New"><strong>map(,)</strong></font>-function,
        but you could just as well specify the coordiantes
        explicitly (e.g. <font size="2" face="Courier New"><strong>arrrow
        10,10 to 100,100</strong></font>).</dd>
    <dt><a name="xtick"><font size="2" face="Courier New"><strong>xtick
        map(x,0),str$(x)</strong></font></a><font size="2"
        face="Courier New"><strong> </strong></font>and<font
        size="2" face="Courier New"><strong> ytick
        map(0,-1),&quot;-1&quot;</strong></font></dt>
    <dd>The xtick (and ytick) function simply draw a tick at the
        specified location (e.g. <font size="2"
        face="Courier New"><strong>map(x,0)</strong></font> or <font
        size="2" face="Courier New"><strong>100,100</strong></font>);
        if you add a string as a third argument (<font size="2"
        face="Courier New"><strong>str$(x)</strong></font> in the
        example), the tick is drawn somewhat longer and the
        string is written near its end.</dd>
    <dt><a name="new line"><font size="2" face="Courier New"><strong>new
        </strong></font></a><font size="2" face="Courier New"><strong>curve
        </strong></font>and<font size="2" face="Courier New"><strong>
        line to map(x,y)</strong></font></dt>
    <dd>These functions help to plot a curve as a sequence of
        many lines. Let's look at an example: <font size="2"
        face="Courier New"><strong>line to 10,10:line to 100,100</strong></font>;
        the <strong>second </strong><font size="2"
        face="Courier New"><strong>line to</strong></font>-command
        just draws a line from the point specified in the first <font
        size="2" face="Courier New"><strong>line to</strong></font>-command
        (i.e. 10,10) to the point specified in the command itself
        (i.e. 100,100); to add more line segments, you just have
        to specify further <font size="2" face="Courier New"><strong>line
        to</strong></font>-commands. If you want to start with a
        new curve (i.e. a new sequence of lines) just issue the <font
        size="2" face="Courier New"><strong>new curve</strong></font>-command.</dd>
    <dt><a name="marker"><font size="2" face="Courier New"><strong>marker
        map(x,y),&quot;dot&quot;</strong></font></a></dt>
    <dd>No surprise: The marker-command draws one of six
        different markers. The third argument (counting the <font
        size="2" face="Courier New"><strong>map(x,y)</strong></font>-function
        as two arguments) specifies, which marker to draw; you
        can draw &quot;star&quot; (or &quot;*&quot;),
        &quot;triangle&quot; (or &quot;tri&quot;),
        &quot;square&quot; (or &quot;sq&quot;), &quot;cross&quot;
        (or &quot;+&quot;), &quot;circle&quot; (or &quot;o&quot;)
        and &quot;error&quot; (or &quot;err&quot;, which draws a
        vertical bar specifying an error).<br>
        Additionally you may specify the size of the marker as a
        third argument; this would override the default size,
        which is half the size of your font. An exception is the
        &quot;err&quot; marker, where the third (and optionally
        the fourth) argument specify the error of the value to
        plot. I.e. if you want to plot a value 123 you would
        use <font size="2" face="Courier New"><strong>marker
        map(x,12),&quot;err&quot;,3</strong></font>; and if you
        have different positive and negative errors, e.g. 12+3-4,
        you may write marker <font size="2" face="Courier New"><strong>map(x,12),&quot;err&quot;,3,4</strong></font>.
        Finally note, that any defined mapping is implicitly
        applied to the last two arguments of the error-marker.</dd>
</dl>

<p>With these language elements it should be possible to draw a
variety of two dimensional plots with (hopefully !) modest
effort.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Data and Arrays">Data and Arrays</a></h2>

<p>Now and then the need arises to supply a program with initial
data. The next sample-program converts numbers to strings:</p>

<blockquote>
    <pre><strong>restore names
read maxnum
dim names$(maxnum)
for a=1 to maxnum:read names$(a):next a
label loop
  input &quot;Please enter a number: &quot; number:number=int(number)
  if (number&gt;=1 and number&lt;=maxnum) then
    print number,&quot;=&quot;,names$(number)
    goto loop
  endif
print &quot;Sorry, can't convert &quot;,number

label names
data 9,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;
data &quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;</strong></pre>
</blockquote>

<p>If you run this program, it goes like this:</p>

<blockquote>
    <pre><strong>Please enter a number: </strong><em><strong><u>2</u></strong></em><strong>
2=two
Please enter a number: </strong><em><strong><u>3</u></strong></em><strong>
3=three
Please enter a number: </strong><em><strong><u>8</u></strong></em><strong>
8=eight
Please enter a number: </strong><em><strong><u>12</u></strong></em><strong>
Sorry, can't convert 12</strong></pre>
</blockquote>

<dl>
    <dt><a name="Reading Data"><strong>Reading Data</strong></a></dt>
    <dd>As you see this program just converts numbers to their
        textual representation; for this purpose, it needs to
        know the numbers from 1 to 9 as text. This information is
        stored in the <font face="Courier New"><strong>data</strong></font>-lines
        at the bottom of the program: With the <font
        face="Courier New"><strong>read</strong></font>-command
        the program gets one piece of data after the other.<br>
        If you want to deviate from the linear ordering while
        reading the <font face="Courier New"><strong>data</strong></font>-statements,
        you may use the <font face="Courier New"><strong>restore</strong></font>-statement:
        In the example above <font face="Courier New"><strong>restore
        names</strong></font> makes sure, that the next <font
        face="Courier New"><strong>read</strong></font>-statement
        reads its data after the label <font face="Courier New"><strong>names</strong></font>.</dd>
    <dt><a name="Arrays"><strong>Arrays</strong></a></dt>
    <dd>In the example above the words &quot;one&quot; ...
        &quot;nine&quot; are stored within a string-array <font
        face="Courier New"><strong>names$()</strong></font>. You
        may use arrays to process large quantities of data. There
        are numerical arrays as well as a string-arrays, but both
        sorts of arrays need to be declared prior to their first
        use; this is necessary, because yabasic needs to know,
        how much memory has to be reserved for the array. The
        example uses <font face="Courier New"><strong>dim
        names$(maxnum)</strong></font> to declare a string array,
        another example would be <font face="Courier New"><strong>dim
        numbers(200)</strong></font> to create a numerical array
        with 200 elements.<br>
        More complex tasks may even require multidimensional
        arrays with more than one index: <font face="Courier New"><strong>dim
        matrix(10,10)</strong></font> defines a two dimensional
        array. Array-dimension can be up to ten, if needed.</dd>
</dl>

<p>It should be mentioned, that the functionality of the above
sample-program can be achieved by using totally different
language-constructs:</p>

<blockquote>
    <pre><strong>label loop
  input &quot;Please enter a number: &quot; number:number=int(number)
  on number+1 gosub sorry,one,two,three,four,five,sorry
goto loop
label sorry:print &quot;Sorry, can't convert &quot;,number:end
label one:print &quot;1=one&quot;:return
label two:print &quot;2=two&quot;:return
label three:print &quot;3=three&quot;:return
label four:print &quot;4=four&quot;:return
label five:print &quot;5=five&quot;:return</strong></pre>
</blockquote>

<p>This program produces the same output as the example above.</p>

<dl>
    <dt><a name="on gosub"><strong>on gosub, on goto</strong></a></dt>
    <dd>The heart of this sample is the <font face="Courier New"><strong>on
        gosub</strong></font>-statement, which is followed by a
        list of labels (<font face="Courier New"><strong>sorry,one,two,...</strong></font>).
        Depending on the value of the expression (<font
        face="Courier New"><strong>number+1</strong></font>) the
        corresponding label in the list is chosen: E.g. if <font
        face="Courier New"><strong>number+1</strong></font> gives
        3, the third label (<font face="Courier New"><strong>three</strong></font>)
        is selected and a <font face="Courier New"><strong>gosub</strong></font>
        to this label is performed.</dd>
    <dd>A <font face="Courier New"><strong>gosub</strong></font>
        is always performed, regardless of the value of the
        expression. More specifically, if <font
        face="Courier New"><strong>number+1</strong></font> gives
        anything less or equal to 1, then the first label (<font
        face="Courier New"><strong>sorry</strong></font>) is
        chosen; if <font face="Courier New"><strong>number+1</strong></font>
        gives anything greater or equal to the number of elements
        in the list (which is 7 in the example), then the last
        label (<font face="Courier New"><strong>sorry</strong></font>)
        is chosen. Therefore the label <font face="Courier New"><strong>sorry</strong></font>
        is chosen whenever the program can't convert the given
        number.<br>
        <br>
        Finally, note that the <font face="Courier New"><strong>on</strong></font>-construct
        can be used as<font face="Courier New"><strong> on goto </strong></font>too.</dd>
    <dt><a name="End of your program"><strong>End of your program</strong></a></dt>
    <dd>Another new appearance in the above sample is the <font
        face="Courier New"><strong>end</strong></font>-statement,
        which ends your program immediately.</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Files and more on input">Files and more on input</a></h2>

<p>To understand the examples in this section, let us assume that
a file named <strong>test.dat</strong> exists in the current
directory and that it contains the following three lines:</p>

<blockquote>
    <pre><strong>one two three
four five
six seven eight nine</strong></pre>
</blockquote>

<p>The next example opens that file and prints out its content:</p>

<blockquote>
    <pre><strong>open 1,&quot;test.dat&quot;,&quot;r&quot;
label loop
if (eof(1)) then end fi
input #1 a$
line input b$
print &quot;a$=\&quot;&quot;,a$,&quot;\&quot;, b$=\&quot;&quot;,b$,&quot;\&quot;&quot;
goto loop</strong></pre>
</blockquote>

<dl>
    <dt><a name="Opening a file"><strong>Opening a file</strong></a></dt>
    <dd>The first thing to do if you want to use a file is to
        open it: <font face="Courier New"><strong>open
        1,&quot;test.dat&quot;,&quot;r&quot;</strong></font>
        opens the file <font face="Courier New"><strong>test.dat</strong></font>
        and gives it the file number <font face="Courier New"><strong>1</strong></font>.
        This file number is used to refer to the file later on
        (e.g. <font face="Courier New"><strong>input #1</strong></font>).
        File numbers can range from <font face="Courier New"><strong>#1</strong></font>
        to <font face="Courier New"><strong>#9</strong></font>,
        the hash is traditionally required. The optional third
        argument (<font face="Courier New"><strong>&quot;r&quot;</strong></font>)
        of the open-statement gives the filemode; depending on
        whether you want to open a file for reading or writing
        you should choose a different mode. Filemodes are
        borrowed from the C-language; here are the possible
        choices:<br>
        <table border="1">
            <tr>
                <td align="center"><strong>Filemode</strong></td>
                <td align="center"><strong>Result</strong></td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>&quot;r&quot;</strong></font></td>
                <td>Open file for reading, start reading at the
                beginning of the file</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>&quot;w&quot;</strong></font></td>
                <td>Open file for writing, overwrite old contents</td>
            </tr>
            <tr>
                <td align="center"><font face="Courier New"><strong>&quot;a&quot;</strong></font></td>
                <td>Append to an existing file for writing or
                open a new one if no file with the specified name
                exists</td>
            </tr>
        </table>
    </dd>
    <dd>&nbsp;</dd>
    <dd>You may also try &quot;<font size="3" face="Courier New"><strong>rb</strong></font>&quot;,
        &quot;<font size="3" face="Courier New"><strong>wb</strong></font>&quot;,
        &quot;<font size="3" face="Courier New"><strong>ab</strong></font>&quot;;
        the character &quot;<font face="Courier New"><strong>b</strong></font>&quot;
        stands for binary mode, which allows to open and read any
        sort of file; most people won't need this anyway ...</dd>
    <dd><br>
        If you are done with a file, you should <font
        face="Courier New"><strong>close</strong></font> it,
        making the file number available for another
        open-statement.</dd>
    <dt><a name="Specifying Window-pathnames"><strong>Specifying
        Window-pathnames</strong></a></dt>
    <dd>Be careful, when specifying an absolute pathname: <font
        face="Courier New"><strong>&quot;C:\yabasic\test.dat&quot;</strong>
        </font>is not a valid pathname, because the sequence<font
        face="Courier New"><strong> &quot;\t&quot; </strong></font>within
        this string is interpreted as an <a
        href="#Escape-sequences">escape sequence</a>, and will be
        translated into the <strong>Tab</strong>-character. To
        avoid problems like these, you should always double your
        backslashes like<font face="Courier New"><strong>
        &quot;C:\\yabasic\\test.dat&quot;</strong></font>,
        because<font face="Courier New"><strong> &quot;\\&quot; </strong></font>is
        an escape sequence and translated into<font
        face="Courier New"><strong> &quot;\&quot;</strong></font>.</dd>
    <dt><a name="Reading and Writing"><strong>Reading and Writing</strong></a><strong>s</strong></dt>
    <dd>You can write to file just the same way as you would
        write to your screen; the only difference is the file
        number, that comes with the print-statement: <font
        face="Courier New"><strong>print #1 &quot;Hello&quot;</strong></font>
        writes the string <font face="Courier New"><strong>&quot;Hello&quot;</strong></font>
        to the file with file number <font face="Courier New"><strong>#1</strong></font>;
        note that there is no comma between the file number (<font
        face="Courier New"><strong>#1</strong></font>) and the
        text to be written (<font face="Courier New"><strong>&quot;Hello&quot;</strong></font>).
        Reading works the same way: <font face="Courier New"><strong>input
        #1 a$</strong></font>, reads the variable <font
        face="Courier New"><strong>a$</strong></font> from the
        file with file number <font face="Courier New"><strong>#1</strong></font>.</dd>
</dl>

<p>Back to our sample program. If your run it, you will get the
following output:</p>

<blockquote>
    <pre><strong>a$=&quot;one&quot;, b$=&quot;two three&quot;
a$=&quot;four&quot;, b$=&quot;five&quot;
a$=&quot;six&quot;, b$=&quot;seven eight nine&quot;</strong></pre>
</blockquote>

<dl>
    <dt><a name="End of File"><strong>End of File</strong></a></dt>
    <dd>As you can see, the program loops until the file has been
        fully read; this is achieved by means of the
        end-of-file-function <font face="Courier New"><strong>eof(1)</strong></font>,
        which returns <strong>false</strong>, if there are more
        characters in the file, whose file number is given as an
        argument, and returns <strong>true</strong> if the end of
        the file has been reached.</dd>
    <dt><a name="More on input"><strong>More on input</strong></a></dt>
    <dd>You may already have been wondering about how the three
        lines of <strong>test.dat </strong>are distributed among
        the variables of the input-statement; this depends on the
        type of input-statement actually used:</dd>
</dl>

<blockquote>
    <ul>
        <li><font face="Courier New"><strong>input</strong></font>
            reads input until it encounters a space; leading and
            trailing spaces are skipped.</li>
        <li><font face="Courier New"><strong>line input</strong></font>
            reads input until it encounters the end of a line.</li>
    </ul>
</blockquote>

<dl>
    <dd>This applies regardless of whether you read from a file
        (e.g. <font face="Courier New"><strong>input #1 a$</strong></font>)
        or from the terminal (e.g. <font face="Courier New"><strong>input
        a$</strong></font>).</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Calling the Operating System">Interaction with the
Operating System</a></h2>

<h3><a name="The system()-function">The <font face="Courier New"><strong>system()</strong></font>-function</a></h3>

<p>Although <strong>yabasic</strong> is by no means designed as a
scripting-language, it can interact with the Operating System in
a limited way:</p>

<blockquote>
    <pre><strong>if (peek$(&quot;os&quot;)=&quot;unix&quot;) then
  command$=&quot;ls&quot;
else
  command$=&quot;dir /w&quot;
endif
cont$=system$(command$)
print &quot;This is the contents of the current directory:&quot;
print cont$
print len(cont$),&quot; characters have been printed.&quot;</strong></pre>
</blockquote>

<p>The <font face="Courier New"><strong>system$()</strong></font>-function
is the heart of this program: It hands its argument over for
execution to the shell of the underlying operating system; under
Unix it is the bourne-shell <strong>sh</strong> and under Windows
it is <strong>command.com</strong>, which will execute the
argument of the <font face="Courier New"><strong>system()</strong></font>-function.</p>

<p>If I run this program under Windows95, I receive the following
output:</p>

<blockquote>
    <pre><strong>This is the contents of the current directory:

 Datentrger in Laufwerk C: heit WIN95
 Seriennummer des Datentrgers: 0B1D-10F8
 Verzeichnis von C:\WINDOWS\Desktop

[.]             [..]            FLOPPY.LNK      EMACS.LNK       DRUCKER.LNK
T.YAB           TELNET.LNK      TEST.YAB        MICROS~1.LNK    CD.LNK
PLATTE.LNK      WATCOM~1.LNK    [YABDOK~1]      TEST.DAT        WINDOW~1.LNK
[KINO]
        12 Datei(en)                 2.693 Bytes
         4 Verzeichnis(se)     199.753.728 Bytes frei

456 characters have been printed.</strong></pre>
</blockquote>

<p>Of course, you may get something different on your system
(especially if you don't have a german installation of Windows).</p>

<p>As this yabasic-program runs under Unix, as well as under
Windows, the argument of the <font face="Courier New"><strong>system$()</strong></font>-function
(<font face="Courier New"><strong>command$</strong></font>) has
to be chosen according to the operating system. To find type of
operating system (&quot;unix&quot; or &quot;windows&quot;), the
program employs the command <a href="#Peek and Poke"><font
face="Courier New"><strong>peek$(&quot;os&quot;)</strong></font></a>.</p>

<p>Finally, there is a very similar command named <font
face="Courier New"><strong>system()</strong></font> (without a
trailing <font face="Courier New"><strong>$</strong></font>),
which doesn't catch the output of the executed command, which
instead goes directly to your terminal. <font face="Courier New"><strong>system()</strong></font>
returns a numerical value, which is generated by the executed
command. If you don't care about this value, you can safely
ignore it; e.g. <font face="Courier New"><strong>system(&quot;dir&quot;)</strong></font>
(without assignment) is just as valid as <font face="Courier New"><strong>a=system(&quot;dir&quot;)</strong></font>.</p>

<h3><a name="date$ and time$"><font face="Courier New"><strong>date$</strong></font>
and <font face="Courier New"><strong>time$</strong></font></a></h3>

<p>To print the current date and time you may write:</p>

<blockquote>
    <pre><font size="4"><strong>print date$,&quot; &quot;,time$</strong></font></pre>
</blockquote>

<p>This gave me the following output (your output will be
different of course, because the times they <strong>are</strong>
changing):</p>

<blockquote>
    <pre><font size="4"><strong>5-08-28-1998-Fri-Aug 13-51-53-0</strong></font></pre>
</blockquote>

<p>The <font face="Courier New"><strong>date$</strong></font>-string
has six fields: <font size="3" face="Courier New"><strong>5</strong></font>
is the day of the week (0-6, 0 is sunday, 6 saturday), <font
face="Courier New"><strong>08</strong></font> is the month
(01-12), <font face="Courier New"><strong>28</strong></font> is
the day of the month (01-31), <font face="Courier New"><strong>1998</strong></font>
is the year, <font face="Courier New"><strong>Fri</strong></font>
is the name of the day and <font face="Courier New"><strong>Aug</strong></font>
is the name of the month.</p>

<p>The <font face="Courier New"><strong>time$</strong></font>-string
has four fields: <font face="Courier New"><strong>13</strong></font>
is the hour (00-23), <font face="Courier New"><strong>51</strong></font>
is the minute (00-59), <font face="Courier New"><strong>53</strong></font>
is the second (00-59) and <font face="Courier New"><strong>0</strong></font>
is the time, that has elapsed since the program started.</p>

<p>As most fields of <font face="Courier New"><strong>date$</strong></font>
and <font face="Courier New"><strong>time$</strong></font>
(except the last field within <font face="Courier New"><strong>time$</strong></font>)
are fixed length, it is easy to extract fields with the <a
href="#Getting pieces out of a string:"><font face="Courier New"><strong>mid$</strong></font></a>-function.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Peek and Poke">Peek and Poke</a></h2>

<p><font face="Courier New"><strong>peek</strong></font> and <font
face="Courier New"><strong>poke</strong></font> are an interface
to some of yabasics internals and allow to query and change
yabasics states and behaviour. Unlike early homecomputers, you
can't peek and poke around anywhere in memory; just a few
predefined variants are allowed. An example would be:</p>

<blockquote>
    <pre><strong>print peek$(&quot;infolevel&quot;)
poke &quot;infolevel&quot;,&quot;diagnostic&quot;</strong></pre>
</blockquote>

<p>Which would print the current <a href="#infolevel">infolevel</a>
and change it to &quot;diagnostic&quot;.</p>

<p>From this example you see: <font face="Courier New"><strong>peek</strong></font>
and <font face="Courier New"><strong>poke</strong></font> accept
string arguments (some <font face="Courier New"><strong>poke</strong></font>-commands
except an integer argument too) and <font face="Courier New"><strong>peek</strong></font>
may return a string (in this case it appears as <font
face="Courier New"><strong>peek$</strong></font>).</p>

<p>Anyway there are very few peek's and poke's right now, and
they may be fully enumerated:</p>

<dl>
    <dt><font face="Courier New"><strong>peek$(&quot;infolevel&quot;)</strong></font></dt>
    <dd>Gives back the current <a href="#infolevel">infolevel</a>.</dd>
    <dt><font face="Courier New"><strong>poke
        &quot;infolevel&quot;, &quot;error&quot;</strong></font></dt>
    <dd>Sets the <a href="#infolevel">infolevel</a> to any of
        &quot;diagnostic&quot;, &quot;note&quot;,
        &quot;warning&quot;, &quot;error&quot; or
        &quot;fatal&quot;.</dd>
    <dt><font face="Courier New"><strong>peek(&quot;fontheight&quot;)</strong></font></dt>
    <dd>Gives back the height in pixels of the font used for
        graphic-text.</dd>
    <dt><font face="Courier New"><strong>peek$(&quot;os&quot;)</strong></font></dt>
    <dd>Gives back the <strong>o</strong>perating <strong>s</strong>ystem
        (either &quot;windows&quot; or &quot;unix&quot;)</dd>
    <dt><font face="Courier New"><strong>poke
        &quot;textalign&quot;,&quot;cc&quot;</strong></font></dt>
    <dd>This changes the way text is aligned with respect to the
        point given within the <a href="#Graphics and printing"><font
        face="Courier New"><strong>text</strong></font></a>-command
        (see there, for further explanation).</dd>
    <dt><font face="Courier New"><strong>peek$(&quot;textalign&quot;)</strong></font></dt>
    <dd>Gives back a string specifying the current mode of text
        alignement; among possible return values are<font
        face="Courier New"><strong> &quot;cb&quot;</strong></font>,
        <font face="Courier New"><strong>&quot;rc&quot;</strong></font>,
        <font face="Courier New"><strong>&quot;cc&quot;</strong></font>,
        ...</dd>
    <dt><a name="Command line arguments"><font size="3"
        face="Courier New"><strong>peek(&quot;argument&quot;)</strong></font></a></dt>
    <dd>Returns the number of arguments given to your
        yabasic-program. This might be useful, if you call
        yabasic from the command-line only; let's say you type<font
        face="Courier New"><strong> yabasic test.yab 1 2 3</strong></font>.
        This would start yabasic to execute the program test.yab;
        within test.yab you could then query<font
        face="Courier New"><strong> peek(&quot;argument&quot;) </strong></font>to
        get the number of arguments given on the command line. In
        the example<font face="Courier New"><strong>
        peek(&quot;argument&quot;) </strong></font>would return
        3, because there are three different arguments
        (&quot;1&quot;, &quot;2&quot; and &quot;3&quot;) on the
        command line (the name of the program
        &quot;test.yab&quot; doesn't count as an argument).<br>
        To retrieve the arguments, use<font face="Courier New"><strong>
        peek$(&quot;argument&quot;)</strong></font>; every call
        to<font face="Courier New"><strong>
        peek$(&quot;argument&quot;) </strong></font>reduces the
        value returned by<font face="Courier New"><strong>
        peek(&quot;argument&quot;) </strong></font>by one.</dd>
    <dt><font face="Courier New"><strong>peek$(&quot;argument&quot;)</strong></font></dt>
    <dd>Every call to<font face="Courier New"><strong>
        peek$(&quot;argument&quot;) </strong></font>returns one
        of the command-line arguments handed to your yabasic
        program. E.g.: if you call<font face="Courier New"><strong>
        yabasic test.yab 1 2 3</strong></font>, then the first
        call to<font face="Courier New"><strong>
        peek$(&quot;argument&quot;) </strong></font>would return
        &quot;1&quot;, the second call would return
        &quot;2&quot;, the third &quot;3&quot; and any further
        call would return an empty string (&quot;&quot;).</dd>
</dl>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="More on print">Pretty prining: <font
face="Courier New">print at()</font> and<font face="Courier New"><strong>
print using</strong></font></a></h2>

<p>For interactive programs you might want to print output at
specific locations. Try the next example:</p>

<blockquote>
    <pre><strong>clear screen
print at(10,5) &quot;1 -- Setup&quot;
print at(10,7) &quot;2 -- Save&quot;
print reverse at(10,9) &quot;3 -- Quit&quot;
input at(5,12) &quot;Your choice: &quot; a$</strong></pre>
</blockquote>

<p>If you run this program, you will get a screen resembling the
following layout (note that the third line will be displayed in
reverse video):</p>

<blockquote>
    <pre><strong>        1 -- Setup

        2 -- Save

        3 -- Quit      </strong><font face="Times New Roman"><em>This line is displayed in reverse !</em></font><strong>


   Your choice:</strong></pre>
</blockquote>

<p>This is not a very fancy screen layout, but it might be enough
for many tasks. Before you can do any such things, you have to
call<font face="Courier New"><strong> clear screen </strong></font>,
which erases your screen. </p>

<p>Afterwards, you may use the <font face="Courier New"><strong>at()</strong></font>-clause
in print or input-statements to move to any location (specified
by the two arguments of the <font face="Courier New"><strong>at()</strong></font>-clause)
on your screen. Note that <font face="Courier New"><strong>at()</strong></font>
can be written as <font face="Courier New"><strong>@()</strong></font>
too.</p>

<p>Since not all terminals have the same size (of course 80x25 is
the most common size), you might want to know what are the actual
dimensions of your screen; There are two predefined variables for
this purpose: The width of your screen can be found in <font
face="Courier New"><strong>yabscreenwidth</strong></font>, its
height in <font face="Courier New"><strong>yabscreenheight</strong></font>;
both variables have meaningful values only after the first call
to <font face="Courier New"><strong>clear screen</strong></font>.</p>

<p>To emphasize a piece of text you may use the keyword <font
face="Courier New"><strong>reverse</strong></font>, which prints
the line in reverse video.</p>

<h3><a name="print using"><font face="Courier New"><strong>print
using</strong></font></a></h3>

<p>To control the way numbers are printed, use the<font
face="Courier New"><strong> print using </strong></font>statement:
<font face="Courier New"><strong>print 12.34 using
&quot;###.####&quot;</strong></font> produces <font
face="Courier New"><strong>12.3400</strong></font>. The format
string (<font face="Courier New"><strong>&quot;###.####&quot;</strong></font>)
consists of hashes (#) with one optional dot and it pictures the
appearance of the number to print. Some examples:</p>

<table border="1" cellpadding="2" cellspacing="3">
    <tr>
        <th nowrap>Command</th>
        <th nowrap>Output</th>
        <th>Remarks</th>
    </tr>
    <tr>
        <td nowrap><font face="Courier New"><strong>print
        &quot;=&quot;,12.34 using
        &quot;###.####&quot;,&quot;=&quot;</strong></font></td>
        <td nowrap><font face="Courier New"><strong>= 12.3400=</strong></font></td>
        <td>The output is filled up with spaces (from the left)
        and zeros (from the right) as the format requires.</td>
    </tr>
    <tr>
        <td nowrap><font face="Courier New"><strong>print
        &quot;=&quot;,12.36 using ##.#,&quot;=&quot;</strong></font></td>
        <td nowrap><font face="Courier New"><strong>=12.4=</strong></font></td>
        <td>Last digit of output is rounded.</td>
    </tr>
    <tr>
        <td nowrap><font face="Courier New"><strong>print
        &quot;=&quot;,12.34 using #.#,&quot;=&quot;</strong></font></td>
        <td nowrap><font face="Courier New"><strong>=***=</strong></font></td>
        <td>The number can not be formatted as required.</td>
    </tr>
</table>

<p>This way of formatting is straightforward and simple, but not
very flexible; e.g. it is not possible to print numbers
left-aligned or with leading zeroes. To get such effects, the <font
face="Courier New"><strong>print using</strong></font> statement
allows for format strings as used by the <font face="Courier New"><strong>printf()</strong></font>-function
of the C-language. Some examples:</p>

<table border="1">
    <tr>
        <th valign="top">Print-statement</th>
        <th>Output produced</th>
    </tr>
    <tr>
        <td nowrap><font face="Courier New"><strong>print
        &quot;==&quot;,str$(12.123455,&quot;%08.3f&quot;),&quot;==&quot;</strong></font></td>
        <td nowrap><font face="Courier New"><strong>==0012.123==</strong></font></td>
    </tr>
    <tr>
        <td nowrap><font face="Courier New"><strong>print
        &quot;==&quot;,str$(12.123455,&quot;%8.2f&quot;),&quot;==&quot;</strong></font></td>
        <td nowrap><font face="Courier New"><strong>== 12.12==</strong></font></td>
    </tr>
    <tr>
        <td nowrap><font face="Courier New"><strong>print
        &quot;==&quot;,str$(12.123455,&quot;%-6.2f&quot;),&quot;==&quot;</strong></font></td>
        <td nowrap><font face="Courier New"><strong>==12.12 ==</strong></font></td>
    </tr>
</table>

<p>More about these formats can be found in any book on the
C-language.</p>

<p>All these formats can be used for the <a
href="#strings to numbers (and reverse):"><font
face="Courier New"><strong>str$()</strong></font>-function</a>
too.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Loose Ends">Loose Ends</a></h2>

<p>Some properties of yabasic are still left to explain; here is
a sample program, that employs them:</p>

<blockquote>
    <pre><strong>10 beep
  pause 1
goto 10</strong></pre>
</blockquote>

<p>This program beeps once every second:</p>

<ul>
    <li><font face="Courier New"><strong>beep</strong></font>
        does the beeping (can be written as <font
        face="Courier New"><strong>bell</strong></font> too) and</li>
    <li><font face="Courier New"><strong>pause</strong></font>
        does the waiting (can be written as <font
        face="Courier New"><strong>wait</strong></font> too), its
        argument is the delay in seconds</li>
</ul>

<p>Finally, the program employs a <a name="linenumber">line
number</a> (<font face="Courier New"><strong>10</strong></font>)
to mark a specific line; this feature makes yabasic more
compatible with traditional basics. Line numbers are just special
types of labels; they have the following properties:</p>

<ul>
    <li>Line numbers can appear only at the beginning of a line.</li>
    <li>Not every line needs a number and line numbers need not
        be consecutive.</li>
    <li>Line numbers can be used with the <font
        face="Courier New"><strong>restore</strong></font>-statement
        too.</li>
</ul>

<h3><a name="Keyboard interrupts">Keyboard interrupts</a></h3>

<p>A feature you might need is the ability to suppress
keyboard-interrupts (i.e. pressing of <strong>Ctrl-C</strong>);
normally yabasic terminates immediately, if the user presses <strong>Ctrl-C</strong>.
This can be suppressed like this:</p>

<blockquote>
    <pre><font size="4"><strong>on interrupt continue</strong></font></pre>
</blockquote>

<p><font size="3">After processing of this statement keyboard
interrupts are completely ignored. The default behaviour is
restored with the command</font><font size="3" face="Courier New"><strong>
on interrupt break</strong></font>.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h1><a name="Index">Index</a></h1>

<h2><a name="Index of keywords">Index of keywords</a></h2>

<blockquote>
    <p><a href="#Operators"><font size="2" face="Courier New"><strong>+,-,*,/,^</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#print"><font size="2" face="Courier New"><strong>?</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Printing at a Random Position"><font size="2"
    face="Courier New"><strong>@</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Multiple commands on one line"><font size="2"
    face="Courier New"><strong>:</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Reading and Writing"><font size="2" face="Courier New"><strong>#</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    <br>
    </strong></font><font size="4" face="Courier New"><strong>A:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Absolut values and signum"><font size="2"
    face="Courier New"><strong>abs()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>acos()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>and</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#arrow"><font size="2" face="Courier New"><strong>arrow</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#The Ascii-Charset:"><font size="2" face="Courier New"><strong>asc()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>asin()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Printing at a Random Position"><font size="2"
    face="Courier New"><strong>at()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>atan()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>B:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Loose Ends"><font size="2" face="Courier New"><strong>beep</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Loose Ends"><font size="2" face="Courier New"><strong>bell</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#rectangle"><font size="2" face="Courier New"><strong>box</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Keyboard interrupts"><font size="2" face="Courier New"><strong>break</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>C:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#The Ascii-Charset:"><font size="2" face="Courier New"><strong>chr$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>circle</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Printing at a Random Position"><font size="2"
    face="Courier New"><strong>clear screen</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>clear window</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Opening a file"><font size="2" face="Courier New"><strong>close</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#printing"><font size="2" face="Courier New"><strong>close
    printer</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#Graphics and printing"><font
    size="2" face="Courier New"><strong>close window</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Keyboard interrupts"><font size="2" face="Courier New"><strong>continue</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>cos()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#new line"><font size="2" face="Courier New"><strong>curve</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>D:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#date$ and time$"><font size="2" face="Courier New"><strong>date$</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Reading Data"><font size="2" face="Courier New"><strong>data</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Arrays"><font size="2" face="Courier New"><strong>dim</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>dot</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>E:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>else</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>elsif</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#End of your program"><font size="2" face="Courier New"><strong>end</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>endif</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#End of File"><font size="2" face="Courier New"><strong>eof()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Exponentiation:"><font size="2" face="Courier New"><strong>euler</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Exponentiation:"><font size="2" face="Courier New"><strong>exp()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>F:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Note that endif"><font size="2" face="Courier New"><strong>fi</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#for-next-loop"><font size="2" face="Courier New"><strong>for</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Integer and fractional parts:"><font size="2"
    face="Courier New"><strong>frac()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>G:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Jumping around in your program"><font size="2"
    face="Courier New"><strong>gosub</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Jumping around in your program"><font size="2"
    face="Courier New"><strong>goto</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>H:</strong></font><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>I:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>if</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#inkey$-statement"><font size="2" face="Courier New"><strong>inkey$</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#input"><font size="2" face="Courier New"><strong>input</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Printing at a Random Position"><font size="2"
    face="Courier New"><strong>input at</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Reading and Writing"><font size="2" face="Courier New"><strong>input
    #</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#Finding strings in strings"><font
    size="2" face="Courier New"><strong>instr()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Integer and fractional parts:"><font size="2"
    face="Courier New"><strong>int()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Keyboard interrupts"><font size="2" face="Courier New"><strong>interrupt</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>J:</strong></font><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>K:</strong></font><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>L:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Marking locations in a program"><font size="2"
    face="Courier New"><strong>label</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Getting pieces out of a string:"><font size="2"
    face="Courier New"><strong>left$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#for-next-loop"><font size="2" face="Courier New"><strong>len()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>line</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#More on input"><font size="2" face="Courier New"><strong>line
    input</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#new line"><font size="2"
    face="Courier New"><strong>line to</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Exponentiation:"><font size="2" face="Courier New"><strong>log()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Changing the case of strings"><font size="2"
    face="Courier New"><strong>lower$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Removing spaces"><font size="2" face="Courier New"><strong>ltrim$()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>M:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#map"><font size="2" face="Courier New"><strong>map()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#map"><font size="2" face="Courier New"><strong>mapx()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#map"><font size="2" face="Courier New"><strong>mapy()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#marker"><font size="2" face="Courier New"><strong>marker</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Minimum and Maximum:"><font size="2"
    face="Courier New"><strong>max()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Getting pieces out of a string:"><font size="2"
    face="Courier New"><strong>mid$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Minimum and Maximum:"><font size="2"
    face="Courier New"><strong>min()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Remainder"><font size="2" face="Courier New"><strong>mod()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>N:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#new line"><font size="2" face="Courier New"><strong>new
    curve</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#for-next-loop"><font size="2"
    face="Courier New"><strong>next</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>not</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>O:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#on gosub"><font size="2" face="Courier New"><strong>on
    gosub</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#on gosub"><font size="2"
    face="Courier New"><strong>on goto</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Opening a file"><font size="2" face="Courier New"><strong>open</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#printing"><font size="2" face="Courier New"><strong>open
    printer</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#Graphics and printing"><font
    size="2" face="Courier New"><strong>open window</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>or</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#window origin"><font size="2" face="Courier New"><strong>origin</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>P:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Loose Ends"><font size="2" face="Courier New"><strong>pause</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Peek and Poke"><font size="2" face="Courier New"><strong>peek</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Peek and Poke"><font size="2" face="Courier New"><strong>peek$</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>pi</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Peek and Poke"><font size="2" face="Courier New"><strong>poke</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#print"><font size="2" face="Courier New"><strong>print</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Printing at a Random Position"><font size="2"
    face="Courier New"><strong>print at</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#print using"><font size="2" face="Courier New"><strong>print
    using</strong></font></a><font size="2" face="Courier New"><strong>
    </strong></font><a href="#Reading and Writing"><font size="2"
    face="Courier New"><strong>print #</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>printer</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>Q:</strong></font><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>R:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Random numbers"><font size="2" face="Courier New"><strong>ran()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#rectangle"><font size="2" face="Courier New"><strong>rectangle</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Reading Data"><font size="2" face="Courier New"><strong>read</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#REM"><font size="2" face="Courier New"><strong>rem</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Reading Data"><font size="2" face="Courier New"><strong>restore</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Jumping around in your program"><font size="2"
    face="Courier New"><strong>return</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Fancy Printing"><font size="2" face="Courier New"><strong>reverse</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Getting pieces out of a string:"><font size="2"
    face="Courier New"><strong>right$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Removing spaces"><font size="2" face="Courier New"><strong>rtrim$()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>S:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Absolut values and signum"><font size="2"
    face="Courier New"><strong>sig()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>sin()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#for-next-loop"><font size="2" face="Courier New"><strong>step</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#The square root"><font size="2" face="Courier New"><strong>sqr()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#The square root"><font size="2" face="Courier New"><strong>sqrt()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#strings to numbers (and reverse):"><font size="2"
    face="Courier New"><strong>str$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#The system()-function"><font size="2"
    face="Courier New"><strong>system()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#The system()-function"><font size="2"
    face="Courier New"><strong>system$()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>T:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Trigonometric functions:"><font size="2"
    face="Courier New"><strong>tan()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>text</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Making decisions"><font size="2" face="Courier New"><strong>then</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#date$ and time$"><font size="2" face="Courier New"><strong>time$</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#for-next-loop"><font size="2" face="Courier New"><strong>to</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Splitting astring into tokens"><font size="2"
    face="Courier New"><strong>token$()</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Removing spaces"><font size="2" face="Courier New"><strong>trim$()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>U:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Changing the case of strings"><font size="2"
    face="Courier New"><strong>upper$()</strong></font></a><font
    size="4" face="Courier New"><strong> </strong></font><a
    href="#print using"><font size="2" face="Courier New"><strong>using</strong></font></a><font
    size="4" face="Courier New"><strong><br>
    V:</strong></font><font size="2" face="Courier New"><strong> </strong></font><a
    href="#Getting pieces out of a string:"><font size="2"
    face="Courier New"><strong>val()</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>W:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Loose Ends"><font size="2" face="Courier New"><strong>wait</strong></font></a><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#Graphics and printing"><font size="2"
    face="Courier New"><strong>window</strong></font></a><font
    size="4" face="Courier New"><strong><br>
    X:</strong></font><font size="2" face="Courier New"><strong> </strong></font><a
    href="#xtick"><font size="2" face="Courier New"><strong>xtick</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>Y:</strong></font><font
    size="2" face="Courier New"><strong> </strong></font><a
    href="#xtick"><font size="2" face="Courier New"><strong>ytick</strong></font></a><font
    size="2" face="Courier New"><strong><br>
    </strong></font><font size="4" face="Courier New"><strong>Z:</strong></font></p>
</blockquote>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h2><a name="Index of concepts">Index of concepts</a></h2>

<blockquote>
    <p><a href="#Arrays">Arrays</a><br>
    <a href="#Case">Case of Keywords and Variables</a><br>
    <a href="#Command line arguments">Command line arguments</a><br>
    <a href="#Conditions">Conditions in the <font
    face="Courier New"><strong>if</strong></font>-statement</a><br>
    <a href="#Escape-sequences">Escape Sequences within strings</a><br>
    <a href="#print using">Formatting numbers</a><br>
    <a href="#More on input">How the <font face="Courier New"><strong>input</strong></font>-statement
    chops a line into pieces</a><br>
    <a href="#Keyboard interrupts">Keyboard interrupts</a><br>
    <a href="#linenumber">Line numbers</a><br>
    <a href="#Multiple commands on one line">Multiple commands in
    one line</a><br>
    <a href="#Specifying Window-pathnames">Specifying
    Windows-pathnames</a><br>
    <a href="#Variables">Variables</a></p>
</blockquote>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h1><a name="internals">Internals </a></h1>

<h2>History</h2>

<p>I started off with yabasic sometime around eastern 1995; a
first version was completed about one month later, still missing
many features. After this quick start a long period of adding
features and squashing bugs followed, which has more or less
persisted until today. </p>

<p>The only interruption during those peaceful days came in the
summer of 1996, when I got my Windows95-machine: Porting yabasic
took two weeks and writing an installation program took me a
month.</p>

<h2>Flex and Bison</h2>

<p>You may have noticed from the previous section, that yabasic
made quite a rapid start; this is mainly due to <strong>flex </strong>and
<strong>bison</strong>, the prime tools, used to implement
yabasic.</p>

<p>Bison and flex take the grammar (written in a simple,
Backus-Nauer-style notation) and produce a C-program, which
implements this grammar. The only thing left to the programmer is
to put flesh on this skeleton.</p>

<p>This process is remarkably efficient: 17 KBytes of flex and
bison instructions generate 129 KBytes of C-code, which has to be
compared with the 108 KBytes of C-code which I wrote. Together
these implement the functionality of yabasic. So actually most of
the code has been generated by flex and bison !</p>

<h2>Execution of a program</h2>

<p>Although yabasic behaves mostly like an interpreter, in fact
it is not. Rather it's a compiler: If you give it any basic-code
for execution, the code is compiled, yielding instructions for a
simple stack-machine; these instructions are then interpreted
immediately, so that you will never get in touch with the
stack-machine. You can find out the time needed for this process
if you invoke yabasic with infolevel set to <font size="4"><code><strong>note</strong></code></font>.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>

<hr>

<h1><a name="copy">Copyleft </a></h1>

<p>Yabasic is subject to the GNU copyleft, which (in a nutshell)
gives you every freedom to use modify or redistribute this
software, except the right to restrict other people's freedom. To
get an idea of it I just reproduce the <strong>preamble</strong>
of the GNU copyleft; the exact terms can be found in the file<strong>
</strong><code><strong>COPYING</strong></code><strong> </strong>which
comes along as part of the distribution, or can be obtained from
the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA
02139, USA.</p>

<h2>Preamble</h2>

<p>The licenses for most software are designed to take away your
freedom to share and change it. By contrast, the GNU General
Public License is intended to guarantee your freedom to share and
change free software--to make sure the software is free for all
its users. This General Public License applies to most of the
Free Software Foundation's software and to any other program
whose authors commit to using it. (Some other Free Software
Foundation software is covered by the GNU Library General Public
License instead.) You can apply it to your programs, too.</p>

<p>When we speak of free software, we are referring to freedom,
not price. Our General Public Licenses are designed to make sure
that you have the freedom to distribute copies of free software
(and charge for this service if you wish), that you receive
source code or can get it if you want it, that you can change the
software or use pieces of it in new free programs; and that you
know you can do these things.</p>

<p>To protect your rights, we need to make restrictions that
forbid anyone to deny you these rights or to ask you to surrender
the rights. These restrictions translate to certain
responsibilities for you if you distribute copies of the
software, or if you modify it.</p>

<p>For example, if you distribute copies of such a program,
whether gratis or for a fee, you must give the recipients all the
rights that you have. You must make sure that they, too, receive
or can get the source code. And you must show them these terms so
they know their rights.</p>

<p>We protect your rights with two steps: (1) copyright the
software, and (2) offer you this license which gives you legal
permission to copy, distribute and/or modify the software.</p>

<p>Also, for each author's protection and ours, we want to make
certain that everyone understands that there is no warranty for
this free software. If the software is modified by someone else
and passed on, we want its recipients to know that what they have
is not the original, so that any problems introduced by others
will not reflect on the original authors' reputations.</p>

<p>Finally, any free program is threatened constantly by software
patents. We wish to avoid the danger that redistributors of a
free program will individually obtain patent licenses, in effect
making the program proprietary. To prevent this, we have made it
clear that any patent must be licensed for everyone's free use or
not licensed at all.</p>

<p><a href="#Table of contents">Back to table of contents ...</a></p>
</body>
</html>
