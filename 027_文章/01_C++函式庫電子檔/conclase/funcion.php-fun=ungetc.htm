<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>C++ con Clase. Función ungetc</title>
<meta name="description" content="Cursos de C++, POO y programaci&oacute;n Windows, API32, CSS, con lista de correo asociada.">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="C, C++, C/C++, curso, programaci&oacute;n, POO, lista, correo, windows, tutorial, programas, API32, CSS">
<link rel="stylesheet" href="funcion.css" tppabs="http://www.conclase.net/c/librerias/funcion.css" type="text/css">
</head>

<body>
<a name="inicio"></a>
<div class="bloque">
<div class="cab-izq">
   <img src="librerias.gif" tppabs="http://www.conclase.net/c/librerias/imagen/librerias.gif" alt="Librerías ANSI C" width="351" height="69">
</div>

<div class="cab-der">
   <img src="Funciones.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Funciones.gif" border="0" alt="Funciones" width="208" height="69">
</div>
<div class="cab-centr">
   <a title="Consultas, lista de correo 'C++ Con Clase'" href="javascript:if(confirm('http://www.conclase.net/c/listacorreo.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/listacorreo.php'" tppabs="http://www.conclase.net/c/listacorreo.php"><img src="preguntas.gif" tppabs="http://www.conclase.net/c/librerias/imagen/preguntas.gif" border="0" alt="Consultas, lista de correo 'C++ Con Clase'" width="49" height="49"></a>
   <a title="'C++ Con Clase' Página de entrada" href="javascript:if(confirm('http://www.conclase.net/c/index.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/index.php'" tppabs="http://www.conclase.net/c/index.php"><img src="ccc.gif" tppabs="http://www.conclase.net/c/librerias/imagen/ccc.gif" border="0" alt="'C++ Con Clase' página de entrada" width="49" height="49"></a>
   <a title="Contactar con Webmaster" href="mailto:webmaster@conclase.net"><img src="correo.gif" tppabs="http://www.conclase.net/c/librerias/imagen/correo.gif" border="0" alt="Contactar con Webmaster" width="49" height="49"></a>
</div>
</div>

<div>
<div class="izquierda">
<h3><a class="letras" href="libreria.php-lib=stdio.htm" tppabs="http://www.conclase.net/c/librerias/libreria.php?lib=stdio">stdio</a></h3>
<h4>Funciones</h4>
<a class="menu" href="funcion.php-fun=clearerr.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=clearerr">clearerr</a>
<a class="menu" href="funcion.php-fun=fclose.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fclose">fclose</a>
<a class="menu" href="funcion.php-fun=feof.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=feof">feof</a>
<a class="menu" href="funcion.php-fun=ferror.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=ferror">ferror</a>
<a class="menu" href="funcion.php-fun=fflush.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fflush">fflush</a>
<a class="menu" href="funcion.php-fun=fgetc.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fgetc">fgetc</a>
<a class="menu" href="funcion.php-fun=fgetpos.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fgetpos">fgetpos</a>
<a class="menu" href="funcion.php-fun=fgets.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fgets">fgets</a>
<a class="menu" href="funcion.php-fun=fopen.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fopen">fopen</a>
<a class="menu" href="funcion.php-fun=fscanf2.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fscanf2">formato</a>
<a class="menu" href="funcion.php-fun=fprintf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fprintf">fprintf</a>
<a class="menu" href="funcion.php-fun=fputc.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fputc">fputc</a>
<a class="menu" href="funcion.php-fun=fputs.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fputs">fputs</a>
<a class="menu" href="funcion.php-fun=fread.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fread">fread</a>
<a class="menu" href="funcion.php-fun=freopen.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=freopen">freopen</a>
<a class="menu" href="funcion.php-fun=fscanf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fscanf">fscanf</a>
<a class="menu" href="funcion.php-fun=fseek.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fseek">fseek</a>
<a class="menu" href="funcion.php-fun=fsetpos.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fsetpos">fsetpos</a>
<a class="menu" href="funcion.php-fun=ftell.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=ftell">ftell</a>
<a class="menu" href="funcion.php-fun=fwrite.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fwrite">fwrite</a>
<a class="menu" href="funcion.php-fun=getc.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=getc">getc</a>
<a class="menu" href="funcion.php-fun=getchar.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=getchar">getchar</a>
<a class="menu" href="funcion.php-fun=gets.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=gets">gets</a>
<a class="menu" href="funcion.php-fun=perror.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=perror">perror</a>
<a class="menu" href="funcion.php-fun=printf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=printf">printf</a>
<a class="menu" href="funcion.php-fun=putc.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=putc">putc</a>
<a class="menu" href="funcion.php-fun=putchar.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=putchar">putchar</a>
<a class="menu" href="funcion.php-fun=puts.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=puts">puts</a>
<a class="menu" href="funcion.php-fun=remove.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=remove">remove</a>
<a class="menu" href="funcion.php-fun=rename.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=rename">rename</a>
<a class="menu" href="funcion.php-fun=rewind.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=rewind">rewind</a>
<a class="menu" href="funcion.php-fun=scanf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=scanf">scanf</a>
<a class="menu" href="funcion.php-fun=setbuf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=setbuf">setbuf</a>
<a class="menu" href="funcion.php-fun=setvbuf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=setvbuf">setvbuf</a>
<a class="menu" href="funcion.php-fun=sprintf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=sprintf">sprintf</a>
<a class="menu" href="funcion.php-fun=sscanf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=sscanf">sscanf</a>
<a class="menu" href="funcion.php-fun=tmpfile.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=tmpfile">tmpfile</a>
<a class="menu" href="funcion.php-fun=tmpnam.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=tmpnam">tmpnam</a>
<a class="menu" href="funcion.php-fun=ungetc.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=ungetc">ungetc</a>
<a class="menu" href="funcion.php-fun=vfprintf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=vfprintf">vfprintf</a>
<a class="menu" href="funcion.php-fun=vprintf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=vprintf">vprintf</a>
<a class="menu" href="funcion.php-fun=vsprintf.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=vsprintf">vsprintf</a>
<h4>Macros</h4>
<a class="menu" href="macro.php-mac=BUFSIZ.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=BUFSIZ">BUFSIZ</a>
<a class="menu" href="macro.php-mac=EOF.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=EOF">EOF</a>
<a class="menu" href="macro.php-mac=FILENAME_MAX.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=FILENAME_MAX">FILENAME_MAX</a>
<a class="menu" href="macro.php-mac=FOPEN_MAX.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=FOPEN_MAX">FOPEN_MAX</a>
<a class="menu" href="macro.php-mac=L_tmpnam.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=L_tmpnam">L_tmpnam</a>
<a class="menu" href="macro.php-mac=tNULL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=tNULL">NULL</a>
<a class="menu" href="macro.php-mac=SEEK_CUR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SEEK_CUR">SEEK_CUR</a>
<a class="menu" href="macro.php-mac=SEEK_CUR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SEEK_CUR">SEEK_END</a>
<a class="menu" href="macro.php-mac=SEEK_CUR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SEEK_CUR">SEEK_SET</a>
<a class="menu" href="macro.php-mac=stderr.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=stderr">stderr</a>
<a class="menu" href="macro.php-mac=stdin.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=stdin">stdin</a>
<a class="menu" href="macro.php-mac=stdout.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=stdout">stdout</a>
<a class="menu" href="macro.php-mac=TMP_MAX.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=TMP_MAX">TMP_MAX</a>
<a class="menu" href="macro.php-mac=_IOFBF.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=_IOFBF">_IOFBF</a>
<a class="menu" href="macro.php-mac=_IOFBF.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=_IOFBF">_IOLBF</a>
<a class="menu" href="macro.php-mac=_IOFBF.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=_IOFBF">_IONBF</a>
<h4>Estructuras</h4>
<a class="menu" href="estructura.php-tip=FILE.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=FILE">FILE</a>
<a class="menu" href="estructura.php-tip=fpos_t.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=fpos_t">fpos_t</a>
<a class="menu" href="estructura.php-tip=ssize_t.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=ssize_t">size_t</a>
  
</div>

<div class="centro">
<div class="barra"> 
  <a href="index.php.htm" tppabs="http://www.conclase.net/c/librerias/index.php">Librerías</a>
  <a href="funciones.php.htm" tppabs="http://www.conclase.net/c/librerias/funciones.php">Funciones</a> 
  <a href="estructuras.php.htm" tppabs="http://www.conclase.net/c/librerias/estructuras.php">Estructuras y tipos</a> 
  <a href="macros.php.htm" tppabs="http://www.conclase.net/c/librerias/macros.php">Macros y Constantes</a> 
</div>
<h1>Función ungetc ANSI C</h1>
<pre class="sintaxis">int ungetc(char c, FILE *stream);</pre>
<p>Esta función envía el carácter especificado por <b>c</b> (convertido a 
  un <b>unsigned char</b>) en el stream de entrada apuntado por <b>stream</b>. 
  Los caracteres apilados serán retornados por lecturas posteriores en ese stream 
  en orden inverso al que fueron apilados. Una llamada interventiva y correcta (con 
  el stream apuntado por <b>stream</b>) a una función de posicionamiento de fichero 
  (<a href="funcion.php-fun=fseek.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fseek">fseek</a>, <a href="funcion.php-fun=fsetpos.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=fsetpos">fsetpos</a>, o <a href="funcion.php-fun=rewind.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=rewind">rewind</a>) descarta cualquier carácter apilado 
  para el stream. El almacenamiento externo correspondiente al stream no varía.</p>
<p>Un carácter apilado es garantizado. Si la función <i>ungetc</i> es llamada 
demasiadas veces al mismo stream sin una lectura interventiva o una operación 
de posicionamiento de fichero en ese stream, entonces la operación falla. Si el 
valor de <b>c</b> es igual a la macro <a href="macro.php-mac=EOF.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=EOF">EOF</a>, la operación falla y el stream de 
entrada no varía.</p>
<p>Una llamada exitosa a la función <i>ungetc</i> despeja el indicador
de final de fichero para el stream. El valor del indicador de posición
de ficheros para el stream después de leer o descartar todos los
caracteres apilados será el mismo que era antes de que los caracteres
fueran apilados. Para un stream de texto, el valor de su indicador de posición
de ficheros después de una llamada exitosa a la función <i>ungetc</i>
no es especificado hasta que todos los caracteres apilados sean leídos
o descartados. Para un stream binario, el valor de su indicador de posición
de ficheros es determinado por cada llamada exitosa a la función <i>ungetc</i>;
si su valor era cero antes de la llamada, es indeterminado después de la llamada.</p>
<h2>Valor de retorno:</h2>
<p>La función <i>ungetc</i> retorna el carácter apilado después
de la conversión. Si la operación falla, entonces retorna <a href="macro.php-mac=EOF.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=EOF">EOF</a>.</p>
<h2>Ejemplo:</h2>
<pre class="ejemplo">#include &lt;stdio.h&gt;
#include &lt;ctype.h&gt;

int main( void )
{
   int i=0;
   char c;

   puts( "Escriba un numero entero seguido por un caracter:" );

   /* lee caracteres hasta uno que no sea un d&iacute;gito o hasta un EOF */
   while( (c=getchar()) != EOF &amp;&amp; isdigit(c) )
      i = 10 * i + c - 48;    /* convierte ASCII un valor entero (int) */

   /* Si se leyó un carácter que no era un d&iacute;gito, ap&iacute;lalo en el stream de entrada */
   if( c != EOF )
      ungetc( c, stdin );

   printf( "i = %d, siguiente caracter en el stream = %c\n", i, getchar() );

   return 0;
}</pre>

<a href="#inicio"><img src="Arriba2.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Arriba2.gif" border="0"></a> 
</div>
</div>

<div class="abajo">
<p class="copyright">&copy; Mayo de 2001 Steven R Davidson, <a href="mailto:steven@conclase.net">steven@conclase.net</a></p>
</div>
</body>
</html>
