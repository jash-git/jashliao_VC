<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>C++ con Clase. Macro va_arg</title>
<meta name="description" content="Cursos de C++, POO y programaci&oacute;n Windows, API32, CSS, con lista de correo asociada.">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="C, C++, C/C++, curso, programaci&oacute;n, POO, lista, correo, windows, tutorial, programas, API32, CSS">
<link rel="stylesheet" href="funcion.css" tppabs="http://www.conclase.net/c/librerias/funcion.css" type="text/css">
</head>

<body>
<a name="inicio"></a>
<div class="bloque">
<div class="cab-izq">
   <img src="librerias.gif" tppabs="http://www.conclase.net/c/librerias/imagen/librerias.gif" alt="Librerías ANSI C" width="351" height="69">
</div>

<div class="cab-der">
   <img src="Macros.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Macros.gif" border="0" alt="Macros" width="155" height="69">
</div>
<div class="cab-centr">
   <a title="Consultas, lista de correo 'C++ Con Clase'" href="javascript:if(confirm('http://www.conclase.net/c/listacorreo.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/listacorreo.php'" tppabs="http://www.conclase.net/c/listacorreo.php"><img src="preguntas.gif" tppabs="http://www.conclase.net/c/librerias/imagen/preguntas.gif" border="0" alt="Consultas, lista de correo 'C++ Con Clase'" width="49" height="49"></a>
   <a title="'C++ Con Clase' Página de entrada" href="javascript:if(confirm('http://www.conclase.net/c/index.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/index.php'" tppabs="http://www.conclase.net/c/index.php"><img src="ccc.gif" tppabs="http://www.conclase.net/c/librerias/imagen/ccc.gif" border="0" alt="'C++ Con Clase' página de entrada" width="49" height="49"></a>
   <a title="Contactar con Webmaster" href="mailto:webmaster@conclase.net"><img src="correo.gif" tppabs="http://www.conclase.net/c/librerias/imagen/correo.gif" border="0" alt="Contactar con Webmaster" width="49" height="49"></a>
</div>
</div>

<div>
<div class="izquierda">
<h3><a class="letras" href="libreria.php-lib=stdarg.htm" tppabs="http://www.conclase.net/c/librerias/libreria.php?lib=stdarg">stdarg</a></h3>
<h4>Macros</h4>
<a class="menu" href="macro.php-mac=va_arg.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=va_arg">va_arg</a>
<a class="menu" href="macro.php-mac=va_end.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=va_end">va_end</a>
<a class="menu" href="macro.php-mac=va_list.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=va_list">va_list</a>
<a class="menu" href="macro.php-mac=va_start.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=va_start">va_start</a>
  
</div>

<div class="centro">
<div class="barra"> 
  <a href="index.php.htm" tppabs="http://www.conclase.net/c/librerias/index.php">Librerías</a>
  <a href="funciones.php.htm" tppabs="http://www.conclase.net/c/librerias/funciones.php">Funciones</a> 
  <a href="estructuras.php.htm" tppabs="http://www.conclase.net/c/librerias/estructuras.php">Estructuras y tipos</a> 
  <a href="macros.php.htm" tppabs="http://www.conclase.net/c/librerias/macros.php">Macros y Constantes</a> 
</div>
<h1>Macro va_arg ANSI C</h1>
<pre class="sintaxis"><i>tipo</i> va_arg(va_list pa, <i>tipo</i>);</pre>
<p>Expande a una expresión que tiene el tipo y valor del siguiente
argumento en la llamada. El parámetro <b>pa</b> será igual
al de <i>va_list argumento</i> inicializado por <a href="macro.php-mac=va_start.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=va_start">va_start</a>.
Cada invocación de <i>va_arg</i> modifica <b>pa</b> tal que los
valores de los argumentos sucesivos son retornados por turno. El parámetro
<b><i>tipo</i></b> es un nombre de un tipo especificado, tal que el tipo del 
puntero a un objeto que tiene el tipo especificado, puede ser obtenido 
simplemente mediante añadiendo al final un <b>*</b> a <b><i>tipo</i></b>. Si 
no hay ningún argumento siguiente, o si <b><i>tipo</i></b> no es compatible 
con el tipo del siguiente argumento (promocionado según las promociones de 
argumentos por defecto), el compartamiento no está definido.</p>
<h2>Valor de retorno:</h2>
<p>La primera invocación de la macro <i>va_arg</i> después de
aquélla de la macro <a href="macro.php-mac=va_start.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=va_start">va_start</a> retorna el valor del argumento después de ésa, 
especificado por <b>paramN</b>. Invocaciones sucesivas retornan los valores de 
los argumentos restantes en sucesión.
<h2>Ejemplo:</h2>
<table WIDTH="70%" >
<tr ALIGN=LEFT VALIGN=TOP>
    <td> 
   <pre class="sintaxis">#define __dj_va_rounded_size(T)  \
        (((sizeof (T) + sizeof (int) - 1) / sizeof (int)) * sizeof (int))</pre> 
      
   <pre class="sintaxis">#define va_arg(ap, T) \
    (ap = (va_list) ((char *) (ap) + __dj_va_rounded_size (T)), \ 
    *((T *) (void *) ((char *) (ap) - __dj_va_rounded_size (T))))</pre>
   </td>
<td><b>DJGPP</b></td>
</tr>
<tr ALIGN=LEFT VALIGN=TOP>
    <td>
      <pre class="sintaxis">#define __size(x) ((sizeof(x)+sizeof(int)-1) &amp; ~(sizeof(int)-1)) 
#define va_arg(ap, type) (*(type _FAR *)(((*(char _FAR *_FAR \ 
  *)&amp;(ap))+=__size(type))-(__size(type))))</pre>
    </td>
<td><b>Borland</b></td>
</tr>
<tr ALIGN=LEFT VALIGN=TOP>
    <td>
      <pre class="sintaxis">#define __va_argsiz(t) \ 
    (((sizeof(t) + sizeof(int) - 1) / sizeof(int)) * sizeof(int))</pre> 
      <pre class="sintaxis">#define va_arg(ap, t) \ 
    (((ap) = (ap) + __va_argsiz(t)),  \
    *((t*) (void*) ((ap) - __va_argsiz(t))))</pre></td>
<td><b>Dev-C++</b></td>
</tr>
</table>

<a href="#inicio"><img src="Arriba2.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Arriba2.gif" border="0"></a> 
</div>
</div>

<div class="abajo">
<p class="copyright">&copy; Mayo de 2001 Steven R Davidson, <a href="mailto:steven@conclase.net">steven@conclase.net</a></p>
</div>
</body>
</html>
