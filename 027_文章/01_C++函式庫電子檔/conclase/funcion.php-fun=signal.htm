<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>C++ con Clase. Función signal</title>
<meta name="description" content="Cursos de C++, POO y programaci&oacute;n Windows, API32, CSS, con lista de correo asociada.">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="C, C++, C/C++, curso, programaci&oacute;n, POO, lista, correo, windows, tutorial, programas, API32, CSS">
<link rel="stylesheet" href="funcion.css" tppabs="http://www.conclase.net/c/librerias/funcion.css" type="text/css">
</head>

<body>
<a name="inicio"></a>
<div class="bloque">
<div class="cab-izq">
   <img src="librerias.gif" tppabs="http://www.conclase.net/c/librerias/imagen/librerias.gif" alt="Librerías ANSI C" width="351" height="69">
</div>

<div class="cab-der">
   <img src="Funciones.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Funciones.gif" border="0" alt="Funciones" width="208" height="69">
</div>
<div class="cab-centr">
   <a title="Consultas, lista de correo 'C++ Con Clase'" href="javascript:if(confirm('http://www.conclase.net/c/listacorreo.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/listacorreo.php'" tppabs="http://www.conclase.net/c/listacorreo.php"><img src="preguntas.gif" tppabs="http://www.conclase.net/c/librerias/imagen/preguntas.gif" border="0" alt="Consultas, lista de correo 'C++ Con Clase'" width="49" height="49"></a>
   <a title="'C++ Con Clase' Página de entrada" href="javascript:if(confirm('http://www.conclase.net/c/index.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/index.php'" tppabs="http://www.conclase.net/c/index.php"><img src="ccc.gif" tppabs="http://www.conclase.net/c/librerias/imagen/ccc.gif" border="0" alt="'C++ Con Clase' página de entrada" width="49" height="49"></a>
   <a title="Contactar con Webmaster" href="mailto:webmaster@conclase.net"><img src="correo.gif" tppabs="http://www.conclase.net/c/librerias/imagen/correo.gif" border="0" alt="Contactar con Webmaster" width="49" height="49"></a>
</div>
</div>

<div>
<div class="izquierda">
<h3><a class="letras" href="libreria.php-lib=signal.htm" tppabs="http://www.conclase.net/c/librerias/libreria.php?lib=signal">signal</a></h3>
<h4>Funciones</h4>
<a class="menu" href="funcion.php-fun=raise.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=raise">raise</a>
<a class="menu" href="funcion.php-fun=signal.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=signal">signal</a>
<h4>Macros</h4>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGABRT</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGFPE</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGILL</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGSEGV</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGTERM</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_DFL</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_ERR</a>
<a class="menu" href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_IGN</a>
<h4>Estructuras</h4>
<a class="menu" href="estructura.php-tip=sig_atomic_t.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=sig_atomic_t">sig_atomic_t</a>
  
</div>

<div class="centro">
<div class="barra"> 
  <a href="index.php.htm" tppabs="http://www.conclase.net/c/librerias/index.php">Librerías</a>
  <a href="funciones.php.htm" tppabs="http://www.conclase.net/c/librerias/funciones.php">Funciones</a> 
  <a href="estructuras.php.htm" tppabs="http://www.conclase.net/c/librerias/estructuras.php">Estructuras y tipos</a> 
  <a href="macros.php.htm" tppabs="http://www.conclase.net/c/librerias/macros.php">Macros y Constantes</a> 
</div>
<h1>Función signal ANSI C</h1>
<pre class="sintaxis">void (*signal(int señal, void (*func)(int))(int);</pre>
<p>Elige una de las tres formas se ha de manejar el número de señal 
<b>señal</b>. Si el valor de <b>func</b> es <a href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_DFL</a>, la señal se 
controlará por defecto. Si el valor de <b>func</b> es <a href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_IGN</a>, la señal 
será ignorada. Si no, <b>func</b> apuntará a una función a ser llamada cuando 
una señal se produce. Dicha función se llama un <i>controlador de señales</i>. </p>
<p>Cuando se produce una señal, si <b>func</b> apunta a una función, primeramente 
la equivalente a <b><nobr>signal( señal, SIG_DFL );</nobr></b> es ejecutada o un 
bloqueo de señal, definido según la implementación, es realizado. (Si el valor 
de <b>señal</b> es <a href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGILL</a>, el caso de que se reinicie <a href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_DFL</a> está 
definido según la implementación). A continuación la equivalente a <b><nobr>(*func)( señal );
</nobr></b> es ejecutada. La función <b>func</b> puede terminar mediante ejecutando 
la sentencia <b>return</b> o mediante llamando las funciones <a href="funcion.php-fun=abort.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=abort">abort</a>, <a href="funcion.php-fun=exit.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=exit">exit</a>, 
o <a href="funcion.php-fun=longjmp.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=longjmp">longjmp</a>. Si <b>func</b> ejecuta una sentencia de retorno y el valor de <b>señal</b> 
era <a href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIGFPE</a> o cualquier otro valor definido según la implementación correspondiendo 
a una excepción computada, el comportamiento no está definido. De lo contrario, el 
programa continúa la ejecución desde el momento de interrupción.</p>
<p>Si la señal se produce de otra forma que el resultado de llamar las funciones 
{f:abort} o <a href="funcion.php-fun=raise.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=raise">raise</a>, el comportamiento no está definido si el controlador de señales 
llama a cualquier función de la librería estándar distinta a sí misma, la función 
<i>signal</i> (con el primer argumento de la señal numérica correspondiendo a la señal 
que causó la invocación al controlador), o hace referencia a cualquier objeto con una 
duración de almacenamiento estático distinto a asignando un valor a una variable de 
duración estática de tipo <b>volatile <a href="estructura.php-tip=sig_atomic_t.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=sig_atomic_t">sig_atomic_t</a></b>. Además, si tal llamada 
a la función <i>signal</i> resulta en un retorno de <a href="macro.php-mac=SIG_ERR.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=SIG_ERR">SIG_ERR</a>, el valor de <a href="macro.php-mac=errno.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=errno">errno</a>
es indeterminado.</p>
<p>Al comienzo del programa, la equivalente a <b><nobr>signal( señal, SIG_IGN );</nobr></b> 
puede ser ejecutada para algunas señales seleccionadas de una manera definida según la 
implementación; la equivalentea <b><nobr>signal( señal, SIG_DFL );</nobr></b> es ejecutada 
para todas las demás señales definidas por la implementación.</p>
<h2>Valor de retorno:</h2>
<p>La función <i>signal</i> retorna el valor de <b>func</b> para la llamada 
más reciente a <i>signal</i> para la señal especificada, <b>señal</b>, 
si la operación fue realizada con éxito. Si falla, entonces retorna 
{m:SIG_ERR:SIG_ERR} y un valor positivo es guardado en <a href="macro.php-mac=errno.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=errno">errno</a>.}
<h2>Ejemplo:</h2>
<pre class="ejemplo">#include &lt;stdio.h&gt;
#include &lt;signal.h&gt;

typedef void (*funcPtr)();

int salir=0;    /* Falso */

void controlador( int *lista_Registros )
{
   int i;

   signal( SIGINT, (funcPtr)controlador );

   printf( "Error capturado\n\n" );
   for( i=0; i&lt;11; i++ )
      printf( "\n[%d] = %d\t", i, lista_Registros[i] );
   salir=1;     /* Verdadero */
}

int main()
{
   float x, y=2.5, h=0.01;

   signal( SIGINT, (funcPtr)controlador );

   for( x=1.0; x&lt;=100.0 &amp;&amp; !salir; x+=h )
      printf( "%f / %f = %f\n", y, x, y/x );    /* Lista demasiada Larga */

   return 0;
}</pre>

<a href="#inicio"><img src="Arriba2.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Arriba2.gif" border="0"></a> 
</div>
</div>

<div class="abajo">
<p class="copyright">&copy; Mayo de 2001 Steven R Davidson, <a href="mailto:steven@conclase.net">steven@conclase.net</a></p>
</div>
</body>
</html>
