<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>C++ con Clase. Función localeconv</title>
<meta name="description" content="Cursos de C++, POO y programaci&oacute;n Windows, API32, CSS, con lista de correo asociada.">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="C, C++, C/C++, curso, programaci&oacute;n, POO, lista, correo, windows, tutorial, programas, API32, CSS">
<link rel="stylesheet" href="funcion.css" tppabs="http://www.conclase.net/c/librerias/funcion.css" type="text/css">
</head>

<body>
<a name="inicio"></a>
<div class="bloque">
<div class="cab-izq">
   <img src="librerias.gif" tppabs="http://www.conclase.net/c/librerias/imagen/librerias.gif" alt="Librerías ANSI C" width="351" height="69">
</div>

<div class="cab-der">
   <img src="Funciones.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Funciones.gif" border="0" alt="Funciones" width="208" height="69">
</div>
<div class="cab-centr">
   <a title="Consultas, lista de correo 'C++ Con Clase'" href="javascript:if(confirm('http://www.conclase.net/c/listacorreo.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/listacorreo.php'" tppabs="http://www.conclase.net/c/listacorreo.php"><img src="preguntas.gif" tppabs="http://www.conclase.net/c/librerias/imagen/preguntas.gif" border="0" alt="Consultas, lista de correo 'C++ Con Clase'" width="49" height="49"></a>
   <a title="'C++ Con Clase' Página de entrada" href="javascript:if(confirm('http://www.conclase.net/c/index.php  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www.conclase.net/c/index.php'" tppabs="http://www.conclase.net/c/index.php"><img src="ccc.gif" tppabs="http://www.conclase.net/c/librerias/imagen/ccc.gif" border="0" alt="'C++ Con Clase' página de entrada" width="49" height="49"></a>
   <a title="Contactar con Webmaster" href="mailto:webmaster@conclase.net"><img src="correo.gif" tppabs="http://www.conclase.net/c/librerias/imagen/correo.gif" border="0" alt="Contactar con Webmaster" width="49" height="49"></a>
</div>
</div>

<div>
<div class="izquierda">
<h3><a class="letras" href="libreria.php-lib=locale.htm" tppabs="http://www.conclase.net/c/librerias/libreria.php?lib=locale">locale</a></h3>
<h4>Funciones</h4>
<a class="menu" href="funcion.php-fun=localeconv.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=localeconv">localeconv</a>
<a class="menu" href="funcion.php-fun=setlocale.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=setlocale">setlocale</a>
<h4>Macros</h4>
<a class="menu" href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_ALL</a>
<a class="menu" href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_COLLATE</a>
<a class="menu" href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_CTYPE</a>
<a class="menu" href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_MONETARY</a>
<a class="menu" href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_NUMERIC</a>
<a class="menu" href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_TIME</a>
<a class="menu" href="macro.php-mac=lNULL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=lNULL">NULL</a>
<h4>Estructuras</h4>
<a class="menu" href="estructura.php-tip=lconv.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=lconv">lconv</a>
  
</div>

<div class="centro">
<div class="barra"> 
  <a href="index.php.htm" tppabs="http://www.conclase.net/c/librerias/index.php">Librerías</a>
  <a href="funciones.php.htm" tppabs="http://www.conclase.net/c/librerias/funciones.php">Funciones</a> 
  <a href="estructuras.php.htm" tppabs="http://www.conclase.net/c/librerias/estructuras.php">Estructuras y tipos</a> 
  <a href="macros.php.htm" tppabs="http://www.conclase.net/c/librerias/macros.php">Macros y Constantes</a> 
</div>
<h1>Función localeconv ANSI C</h1>
<pre class="sintaxis">struct lconv *localeconv(void );</pre>
<p>La función <i>localeconv</i> asigna los componentes de un objeto
con tipo <a href="estructura.php-tip=lconv.htm" tppabs="http://www.conclase.net/c/librerias/estructura.php?tip=lconv">struct lconv</a> con valores apropiados para
el formateo de cantidades numéricas (monetarias y otras) según
las reglas de la localidad actual.</p>
<p>Los miembros de la estructura con tipo <b>char *</b> son punteros a
cadenas, cualquiera de ellos (excepto <b>decimal_point</b>) puede apuntar
a <b>""</b>, para indicar que el valor no está disponible en la
localidad actual o es de longitud cero. Los miembros con tipo <b>char</b>
no son números negativos, cualquiera de ellos puede ser <a href="libreria.php-lib=limits.htm" tppabs="http://www.conclase.net/c/librerias/libreria.php?lib=limits">CHAR_MAX</a>
para indicar que el valor no está disponible en la localidad actual.
Los miembros incluyen los siguientes:</p>
<p><dl><b>char *decimal_point</b></dl>
El carácter de la coma decimal usado para formatear cantidades no
monetarias.</p>
<p><dl><b>char *thousands_sep</b></dl>
El carácter usado para separa grupos de dígitos antes del carácter de la coma 
decimal en cantidades formateadas no monetarias.</p>
<p><dl><b>char *grouping</b></dl>
Una cadena cuyos elementos indican el tamaño de cada grupo de dígitos
en cantidades formateadas no monetarias.</p>
<p><dl><b>char *int_curr_symbol</b></dl>
El símbolo internacional de la unidad monetaria aplicable a la localidad
actual. Los tres primeros caracteres contienen el símbolo internacional
de la unidad monetaria  con acorde con aquéllos especificados
en ISO 4217:1987. El cuarto carácter (inmediatamente precediendo
el carácter nulo) es el carácter usado para separar el símbolo
internacional de la unidad monetaria de la cantidad monetaria.</p>
<p><dl><b>char *currency_symbol</b></dl>
El símbolo local de la unidad monetaria aplicable a la localidad
actual.</p>
<p><dl><b>char *mon_decimal_point</b></dl>
La coma decimal usada para formatear cantidades monetarias.</p>
<p><dl><b>char *mon_thousands_sep</b></dl>
El separador de grupos de dígitos antes de la coma decimal en cantidades
formateadas monetarias.</p>
<p><dl><b>char *mon_grouping</b></dl>
Una cadena cuyos elementos indican el tamaño de cada grupo de dígitos
en cantidades formateadas monetarias.</p>
<p><dl><b>char *positive_sign</b></dl>
La cadena usada para indicar valores no negativos de cantidades formateadas
monetarias.</p>
<p><dl><b>char *negative_sign</b></dl>
La cadena usada para indicar valores negativos de cantidades formateadas
monetarias.</p>
<p><dl><b>char int_frac_digits</b></dl>
El número de dígitos fraccionarios (aquéllos después
de la coma decimal) para ser mostrado en una cantidad internacionalmente
formateada monetaria.</p>
<p><dl><b>char frac_digits</b></dl>
El número de dígitos fraccionarios (aquéllos después
de la coma decimal) para ser mostrado en una cantidad formateada monetaria.</p>
<p><dl><b>char p_cs_precedes</b></dl>
Asignado <b>1</b> ó <b>0</b> a <b>currency_symbol</b> respecitvamente
precede o sucede el valor para una cantidad formateada monetaria no negativa.</p>
<p><dl><b>char p_sep_by_space</b></dl>
Asignado <b>1</b> ó <b>0</b> a <b>currency_symbol</b> respecitvamente
está o no está separado por un espacio del valor para una
cantidad formateada monetaria no negativa.</p>
<p><dl><b>char n_cs_precedes</b></dl>
Asignado <b>1</b> ó <b>0</b> a <b>currency_symbol</b> respectivamente
precede o sucede el valor para una cantidad formateada monetaria negativa.</p>
<p><dl><b>char n_sep_by_space</b></dl>
Asignado <b>1</b> ó <b>0</b> a <b>currency_symbol</b> respecitvamente
está o no está separado por un espacio del valor para una
cantidad formateada monetaria negativa.</p>
<p><dl><b>char p_sign_posn</b></dl>
Asignado un valor indicando la posición del signo positivo (<b>positive_sign</b>)
para una cantidad formateada monetaria no negativa.</p>
<p><dl><b>char n_sign_posn</b></dl>
Asignado un valor indicando la posición del signo negativo (<b>negative_sign</b>)
para una cantidad formateada monetaria negativa.</p>
<p>Los elementos de <b>grouping</b> y <b>mon_grouping</b> son interpretados
según lo siguiente:</p>
<br>
<table COLS=2 WIDTH="70%" >
<tr ALIGN=LEFT VALIGN=TOP>
<td><a href="libreria.php-lib=limits.htm" tppabs="http://www.conclase.net/c/librerias/libreria.php?lib=limits">CHAR_MAX</a></td>
<td>No se realiza más agrupaciones</td>
</tr>
<tr ALIGN=LEFT VALIGN=TOP>
<td><b>0</b></td>
<td>El elemento anterior ha de ser usado repetidamente para el resto de
los dígitos</td>
</tr>
<tr ALIGN=LEFT VALIGN=TOP>
<td><i>otro</i></td>
<td>El valor entero es el número de dígitos que forman parte
del grupo actual. El elemento posterior es examinado para determinar el
tamaño del siguiente grupo de dígitos antes del grupo actual.</td>
</tr>
</table>
<p>Los valores de <b>p_sign_posn</b> y <b>n_sign_posn</b> son interpretados
según los siguiente:</p>
<br>
<table COLS=2 WIDTH="70%" >
<tr>
<td><b>0</b></td>
<td>Los paréntesis rodean la cantidad y <b>current_symbol</b></td>
</tr>
<tr>
<td><b>1</b></td>
<td>La cadena de signo precede la cantidad y <b>current_symbol</b></td>
</tr>
<tr>
<td><b>2</b></td>
<td>La cadena de signo sucede la cantidad y <b>current_symbol</b></td>
</tr>
<tr>
<td><b>3</b></td>
<td>La cadena de signo inmediatamente precede la cantidad y <b>current_symbol</b></td>
</tr>
<tr>
<td><b>4</b></td>
<td>La cadena de signo inmediatamente sucede la cantidad y <b>current_symbol</b></td>
</tr>
</table>
<h2>Valor de retorno:</h2>
<p>La función <i>localeconv</i> retorna un puntero al objeto rellenado.
La estructura apuntado por el valor retornado no será modificado
por el programa, pero puede ser sobreescrito por una llamada posterior
a la función.<i>localeconv</i>. Además, llamadas a la función <a href="funcion.php-fun=setlocale.htm" tppabs="http://www.conclase.net/c/librerias/funcion.php?fun=setlocale">setlocale</a>
con categorías <a href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_ALL</a>, <a href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_MONETARY</a>, o <a href="macro.php-mac=LC_ALL.htm" tppabs="http://www.conclase.net/c/librerias/macro.php?mac=LC_ALL">LC_NUMERIC</a> pueden 
sobreescribir el contenido de la estructura.</p>
<h2>Ejemplo:</h2>
<pre class="ejemplo">#include &lt;stdio.h&gt;
#include &lt;locale.h&gt;
#include &lt;string.h&gt;

int main()
{
  struct lconv *lcPtr;
  char *s;

  printf( "Localidad: \"%s\"\n\n", setlocale( LC_ALL, "C" ) );

  lcPtr = localeconv();

  printf( "decimal_point = \"%s\"\t\t",   lcPtr->decimal_point );
  printf( "thousands_sep = \"%s\"\n",     lcPtr->thousands_sep );
  printf( "grouping = \"%s\"\t\t\t",      lcPtr->grouping );
  printf( "int_curr_symbol = \"%s\"\n",   lcPtr->int_curr_symbol );
  printf( "currency_symbol = \"%s\"\t\t", lcPtr->currency_symbol );
  printf( "mon_decimal_point = \"%s\"\n", lcPtr->mon_decimal_point );
  printf( "mon_grouping = \"%s\"\t\t",    lcPtr->mon_grouping );
  printf( "positive_sign = \"%s\"\n",     lcPtr->positive_sign );
  printf( "negative_sign = \"%s\"\n",     lcPtr->negative_sign );
  printf( "int_frac_digits = (char) %d\t",   lcPtr->int_frac_digits );
  printf( "frac_digits = (char) %d\n",       lcPtr->frac_digits );
  printf( "p_cs_precedes = (char) %d\t",     lcPtr->p_cs_precedes );
  printf( "p_sep_by_space = (char) %d\n",    lcPtr->p_sep_by_space );
  printf( "n_cs_precedes = (char) %d\t",     lcPtr->n_cs_precedes );
  printf( "n_sep_by_space = (char) %d\n",    lcPtr->n_sep_by_space );
  printf( "p_sign_posn = (char) %d\t",       lcPtr->p_sign_posn );
  printf( "n_sign_posn = (char) %d\n",       lcPtr->n_sign_posn );

  printf( "\nCambiamos algunas variables para concordar con la localidad de " );
  printf( "España:\n" );
  lcPtr->decimal_point = ",";
  lcPtr->thousands_sep = ".";
  lcPtr->grouping = "3";
  printf( "decimal_point = \"%s\"\n",     lcPtr->decimal_point );
  printf( "thousands_sep = \"%s\"\n",     lcPtr->thousands_sep );
  printf( "grouping = \"%s\"\n",          lcPtr->grouping );

  return 0;
}</pre>

<a href="#inicio"><img src="Arriba2.gif" tppabs="http://www.conclase.net/c/librerias/imagen/Arriba2.gif" border="0"></a> 
</div>
</div>

<div class="abajo">
<p class="copyright">&copy; Mayo de 2001 Steven R Davidson, <a href="mailto:steven@conclase.net">steven@conclase.net</a></p>
</div>
</body>
</html>
