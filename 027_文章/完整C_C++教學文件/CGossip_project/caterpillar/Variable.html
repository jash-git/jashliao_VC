<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>













  
  
  
  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="stdlayout.css" tppabs="http://caterpillar.onlyfun.net/Gossip/CGossip/css/stdlayout.css" type="text/css">













  
  
  
  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="print.css" tppabs="http://caterpillar.onlyfun.net/Gossip/CGossip/css/print.css" type="text/css">













  
  
  
  
  
  
  
  
  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">












  
  
  
  
  
  
  
  
  
  
  
  
  <title>變數（Variable）</title>
</head>


<body>













<h3><a href="javascript:if(confirm('http://caterpillar.onlyfun.net/Gossip/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://caterpillar.onlyfun.net/Gossip/index.html'" tppabs="http://caterpillar.onlyfun.net/Gossip/index.html">From
Gossip@caterpillar</a></h3>













<h1><a href="CGossip.html" tppabs="http://caterpillar.onlyfun.net/Gossip/CGossip/CGossip.html">C&nbsp;Gossip: 變數（Variable）</a></h1>













<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">













  <tbody>













    <tr>













      <td style="width: 676px; vertical-align: top;"> <small><a href="LiteralConstant.html" tppabs="http://caterpillar.onlyfun.net/Gossip/CGossip/LiteralConstant.html">字面常量</a> 儲存於記憶體之中，並與一個資料型態相關聯，現在的問題是如果您要將一個數值儲存在記憶體中，並在稍後再取回這個數值來使用，您該如何進行？顯然的您無法取得方才寫下的字面常數，因為沒有任何關於字面常數儲存位置的資訊。<br>




      <br>




變數（Variable）提供一個有名稱的記憶體儲存空間，一個變數關係至一個資料型態、一個變數本身的值與一個變數的位址值。<br>




      <br>




變數資料型態決定了變數所分配到的記憶體大小；變數本身的值是指儲存於記憶體中的某個數值，而您可以透過變數名稱取得這個數值，這個數值又稱為
rvalue或 read value；而變數的位址值則是指變數所分配到的記憶體之位置，變數本身又稱為lvalue或 location
value。<br>




      <br>




在C中要使用變數，必須先宣告變數名稱與 <a href="Datatype.html" tppabs="http://caterpillar.onlyfun.net/Gossip/CGossip/Datatype.html">資料型態</a>，例如：<br>




      </small>
      
      
      
      
      <div style="margin-left: 40px;"><small style="font-weight: bold; font-family: Courier New,Courier,monospace;">int intNum;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 宣告一個整數變數</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">




      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">double dblNum;&nbsp;&nbsp; // 宣告一個倍精度浮點數變數</small><br>




      </div>




      <small><br>




如上面所舉的例子，您使用int、float、double、char、bool等關鍵字（Keyword）來宣告變數名稱並指定其資料型態，變數在命名
時有一些規則，它不可以使用數字作為開頭，也不可以使用一些特殊字元，像是*&amp;^%之類的字元，而變數名稱不可以與C內定的關鍵字同名，例如
int、float、class等等。<br>




      <br>




變數的命名有幾個風格，主要以清楚易懂為主，初學者為了方便，當使用一些簡單的字母來作為變數名稱，這會造成日後程式維護的困難，命名變數時發生同名的情況也會增加。<br>




      <br>




在過去曾流行過匈牙利命名法，也就是在變數名稱前加上變數的資料型態名稱縮寫，例如intNum用來表示這個變數是int整數資料型態，fltNum表示一個float資料型態，然而隨著現在程式的發展規模越來越大，這種命名方式已經不被鼓勵。<br>




      <br>




現在比較鼓勵用清楚的名稱或助憶文字來表明變數作用，通常會以小寫字母作為開始，並在每個單字開始時第一個字母使用大寫，例如：<br>




      </small>
      
      
      
      
      <div style="margin-left: 40px;"><small style="font-weight: bold; font-family: Courier New,Courier,monospace;">int ageOfStudent;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">




      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">int ageOfTeacher;</small><br>




      </div>




      <small><br>




像這樣的名稱可以讓人一眼就看出這個變數的作用，還可以考慮用底線來區隔變數中的每個字面，例如：<br>




      </small>
      
      
      
      
      <div style="margin-left: 40px;"><small style="font-weight: bold; font-family: Courier New,Courier,monospace;">int age_of_student;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">




      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">int age_of_teacher;</small><br>




      </div>




      <small><br>




在C中宣告一個變數，就會配置一塊記憶體空間給它，空間長度依宣告時的資料型態而定，被配置的這塊空間中原先可能就有資料，也因此變數在宣告後的值是不可
預期的，所以應該在在變數宣告後初始其值，您可以使用「指定運算子」（Assignment operator）=來指定變數的值，例如：<br>




      </small>
      
      
      
      
      <div style="margin-left: 40px;"><small style="font-weight: bold; font-family: Courier New,Courier,monospace;">int ageOfStudent = 0;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">




      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">double scoreOfStudent = 0.0;</small><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">




      <small style="font-weight: bold; font-family: Courier New,Courier,monospace;">char levelOfStudent = 'A';</small><br>




      </div>




      <small><br>




您也看到我們如何指定字元給字元變數，字元在指定時需使用引數 ' ' 來包括，在宣告變數之後，您可以直接呼叫變數名稱來取得其所儲存的值，下面這個程式是個簡單的示範： <br>




      </small>
      
      
      
      
      <pre>#include &lt;stdio.h&gt;<br><br>int main(void) {<br>    int ageOfStudent;<br>    double scoreOfStudent;<br>    char levelOfStudent;<br>    <br>    printf("\n年級\t得分\t等級\n");<br>    printf("%d\t%d\t%d\n", ageOfStudent, scoreOfStudent, levelOfStudent);<br>    <br>    ageOfStudent = 5;<br>    scoreOfStudent = 80.0;<br>    levelOfStudent = 'B';<br>    <br>    printf("\n年級\t得分\t等級\n");<br>    printf("%d\t%.2f\t%c\n", ageOfStudent, scoreOfStudent, levelOfStudent);<br>    <br>    return 0;<br>}</pre>












      <span class="postbody"><br>




      </span><small>

在這個程式中，您首先宣告變數，但並沒有初始其值，所以第一次顯示時會出現不可預期的資料，而在指定變數的值之後，顯示變數值時就會出現指定的資料了，執
行結果如下所示： &nbsp;</small><br>








      
      
      
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">








  <tbody>








    <tr>








      <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);"></span><span style="color: rgb(255, 255, 255); font-family: Courier New,Courier,monospace;">年級&nbsp;&nbsp;&nbsp; 得分&nbsp;&nbsp;&nbsp; 等級<br>




2147315712&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2293592 4199430<br>




            <br>




年級&nbsp;&nbsp;&nbsp; 得分&nbsp;&nbsp;&nbsp; 等級<br>




5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 80.00&nbsp;&nbsp; B</span></small></td>




          </tr>




        
        
        
        
        </tbody>
      
      
      
      
      </table>




      <br>






      <small>在printf()中，針對浮點數的部份，使用格式指定字%f，其中再加上</small><small>.2，表示顯示浮點數時只顯示至小數後第二位，</small><span class="postbody"><small>更多的格式指定碼之使用，將在 <a href="PrintfScanf.html" tppabs="http://caterpillar.onlyfun.net/Gossip/CGossip/PrintfScanf.html">printf() 與 scanf()</a> 中介紹</small></span><small>。<br>



      <br>



      </small><small>您也可以在使用宣告變數後，使用指定運算子將變數的值初始為0：<br>






      </small>

      
      
      
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">int
ageForStudent = 5;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">








      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">double
scoreForStudent = 80.0;</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">








      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">char
levelForStudent = 'B';</span><br>








      </small></div>








      <small><br>








有時候您一但將數值指定給變數之後，就不允許再將其它值指定給同一變數，則您可以在宣告變數時使用const關鍵字來限定，如果程式中有其它程式碼試圖改
變這個變數，編譯器會先檢查出這個錯誤，例如： <br>






      </small>

      
      
      
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">const
int PI = 3.14; </span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">








      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">PI = 3.14159;</span><br>








      </small></div>








      <small><br>








這一段程式碼中的maxNum變數我們使用const來限定，所以它在指定為10之後，就不可以再指定值給它，所以第二次指定會被編譯器指出錯誤，在gcc編譯器下，會出現這樣的錯誤訊息： <br>






      </small>

      
      
      
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace; color: rgb(255, 0, 0);">assignment
of read-only
variable `PI'</span><br>








      </small></div>








      <small><br>








使用const來限定的變數，目的通常就是不希望其它的程式碼來變動它的值，例如用於迴圈計數次數的指定（迴圈之後就會學到），或是像圓周率PI的指定。
      <br>






      <br>








如果要宣告無號的整數變數，則可以加上unsigned關鍵字，例如：<br>






      </small>



      
      
      
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">unsigned
int i ;</span><br>








      </small></div>








      <span class="postbody"><br>




      <br>












      </span> </td>













      <td style="width: 250px; text-align: center; vertical-align: top;"><comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>&nbsp;
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      
      
      
      
      
      
      <script type="text/javascript" src="show_ads.js" tppabs="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>







      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>







      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      
      
      
      
      
      
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      
      
      
      
      
      
      <script type="text/javascript" src="show_ads.js" tppabs="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>







      <br>






      
      
      
      
      
      
      <center>
      
      
      
      
      
      
      <script language="javascript" src="showads.aspx-blogid=20070509000002&charset=big5" tppabs="http://ad2.bloggerads.net/showads.aspx?blogid=20070509000002&charset=big5"></script><br>







      </center>







 </td>













    </tr>













  
  
  
  
  
  
  
  
  
  
  
  
  </tbody>
</table>













<br>












<span class="postbody"><br>













<br>













</span>
<script src="urchin.js" tppabs="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
</html>
