<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>




  
  
  
  <link rel="stylesheet" href="stdlayout.css" tppabs="http://caterpillar.onlyfun.net/Gossip/CppGossip/css/stdlayout.css" type="text/css">




  
  
  
  <link rel="stylesheet" href="print.css" tppabs="http://caterpillar.onlyfun.net/Gossip/CppGossip/css/print.css" type="text/css">




  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type">



  
  
  
  <title>陣列型式（Array idiom） vector</title>
</head>


<body>




<h3><a href="javascript:if(confirm('http://caterpillar.onlyfun.net/Gossip/index.html  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://caterpillar.onlyfun.net/Gossip/index.html'" tppabs="http://caterpillar.onlyfun.net/Gossip/index.html">From
Gossip@caterpillar</a></h3>




<h1><a href="CppGossip.html" tppabs="http://caterpillar.onlyfun.net/Gossip/CppGossip/CppGossip.html">C++
Gossip:&nbsp;陣列型式（Array
idiom） vector&nbsp;</a></h1>




<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">




  <tbody>




    <tr>




      <td style="width: 676px; vertical-align: top;"> <small>
您可以使用vector來替代陣列，並使用陣列型式（Array
idiom）的方式來操作vector，要使用vector，必須含入vector表頭檔：<br>



      </small>
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">#include
&lt;vector&gt;</span><br>




      </small></div>




      <small><br>




要建立vector型態的物件（Object），您必須提供元素型態與長度資訊，例如下例中建立int元素的vector，並擁有10個元素：<br>



      </small>
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">vector&lt;int&gt;
ivector(10);</span><br>




      </small></div>




      <small><br>




您可以模彷陣列中存取元素的方式來存取vector的元素，使用下標（Subscript）運算子並指定索引來取得指定的元素，例如：</small><br>




      <br>




      
      
      
      <pre>#include &lt;iostream&gt; <br>#include &lt;vector&gt;<br>using namespace std; <br><br>int main() { <br>    vector&lt;int&gt; ivector(10);<br> <br>    for(int i = 0; i &lt; ivector.size(); i++) {<br>        ivector[i] = i;<br>    }<br> <br>    for(int i = 0; i &lt; ivector.size(); i++) {<br>        cout &lt;&lt; ivector[i] &lt;&lt; " ";<br>    }<br>    cout &lt;&lt; endl;<br><br>    return 0; <br>}</pre>




      <br>



      <small>
執行結果： </small><br>




      <small> </small><small> </small><small>
      </small><small> </small><small>
      </small>
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">0 1 2 3 4 5 6 7 8 9</span><span style="color: rgb(255, 255, 255);"></span></small></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>




      <br>



      <small>
與陣列型態不同的是，vector記得自己的長度資訊，您可以使用size()查詢vector的元素長度，或是使用empty()測試長度是否為0。<br>



      <br>




當您宣告vector物件時，所有的元素值會有與型態相應的初始值，例如算術相關型態會被初始為0，指標型態初始為0（表示不指向任何位址），如果您打算
將所有元素初始為指定的值，則可以如下：<br>



      </small>

      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">vector&lt;int&gt;
ivector(10, 5);</span><br>




      </small></div>




      <small><br>




上例中將宣告有10個元素的vector，並將所有的元素值初始為5。<br>



      <br>




如果您願意，您可以使用一個陣列來作為建構vector的引數（Argument），如此建構出來的vector會擁有陣列所指定的元素初值，在這之前，
您要先知道，宣告一個陣列時，陣列名稱所儲存的是第一個元素在記憶體中的位址值，對該位址值加一，表示移至下一個元素，當使用陣列來建構vector時，
要指定的是元素的起始位址與最後一個元素的下一個位址，例如以整個陣列來建構vector的話，可以這麼撰寫：<br>



      </small>

      <br>




      
      
      
      <pre>#include &lt;iostream&gt; <br>#include &lt;vector&gt;<br>using namespace std; <br><br>int main() { <br>    int iarr[] = {1, 2, 3, 4, 5};<br> <br>    vector&lt;int&gt; ivector(iarr, iarr + 5);<br> <br>    for(int i = 0; i &lt; ivector.size(); i++) {<br>        cout &lt;&lt; ivector[i] &lt;&lt; " ";<br>    }<br>    cout &lt;&lt; endl;<br> <br>    return 0; <br>}</pre>




      <br>



      <small>
執行結果： </small><br>




      <small> </small><small> </small><small>
      </small><small> </small><small>
      </small>
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">1 2 3 4 5</span><span style="color: rgb(255, 255, 255);"></span></small></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>




      <br>



      <small>
如果打算只使用陣列中的某個範圍來建構vector，例如複製索引1到3的元素，則可以如下：</small><br>




      <br>




      
      
      
      <pre>#include &lt;iostream&gt; <br>#include &lt;vector&gt;<br>using namespace std; <br><br>int main() { <br>    int iarr[] = {1, 2, 3, 4, 5};<br> <br>    vector&lt;int&gt; ivector(iarr + 1, iarr + 4);<br> <br>    for(int i = 0; i &lt; ivector.size(); i++) {<br>        cout &lt;&lt; ivector[i] &lt;&lt; " ";<br>    }<br>    cout &lt;&lt; endl;<br><br>    return 0; <br>}</pre>




      <br>



      <small><small>
執行結果： </small></small><br>




      <small> </small><small> </small><small>
      </small><small> </small><small>
      </small>
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">2 3 4</span><span style="color: rgb(255, 255, 255);"></span></small></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>




      <br>



      <small>
vector可以使用另一個vector作為引數來建構，例如以ivector1作為引數來建構ivector2：<br>



      </small>
      
      
      
      <div style="margin-left: 40px;"><small><span style="font-weight: bold; font-family: Courier New,Courier,monospace;">vector&lt;int&gt;
ivector1(5, 1);</span><br style="font-weight: bold; font-family: Courier New,Courier,monospace;">




      <span style="font-weight: bold; font-family: Courier New,Courier,monospace;">vector&lt;int&gt;
ivector2(ivector1);</span><br>




      </small></div>




      <small><br>




vector可以使用=直接指定給另一個vector，這會將vector的值複製給被指定的vector，例如：</small><br>




      <br>




      
      
      
      <pre>#include &lt;iostream&gt; <br>#include &lt;vector&gt;<br>using namespace std; <br><br>int main() { <br>    vector&lt;int&gt; ivector1(5, 1);<br>    vector&lt;int&gt; ivector2; // 定義一個空的vector<br> <br>    ivector2 = ivector1;<br> <br>    for(int i = 0; i &lt; ivector2.size(); i++) {<br>        cout &lt;&lt; ivector2[i] &lt;&lt; " ";<br>    }<br>    cout &lt;&lt; endl;<br> <br>    ivector2[0] = 2;<br><br>    for(int i = 0; i &lt; ivector2.size(); i++) {<br>        cout &lt;&lt; ivector2[i] &lt;&lt; " ";<br>    }<br>    cout &lt;&lt; endl;<br> <br>    for(int i = 0; i &lt; ivector1.size(); i++) {<br>        cout &lt;&lt; ivector1[i] &lt;&lt; " ";<br>    }<br>    cout &lt;&lt; endl;<br> <br>    return 0; <br>}<br></pre>




      <br>



      <small>
由於指定時是將值一一複製加入目標vector，所以您改變目標vector的值，並不會影響原來的vector，
執行結果如下： </small><br>




      <small> </small><small> </small><small>
      </small><small> </small><small>
      </small>
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">




        <tbody>




          <tr>




            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">1 1 1 1 1<br>




2 1 1 1 1<br>




1 1 1 1 1</span><span style="color: rgb(255, 255, 255);"></span></small></td>




          </tr>




        
        
        
        </tbody>
      
      
      
      </table>



 </td>




      <td style="width: 250px; text-align: center; vertical-align: top;"><comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>&nbsp;
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="show_ads.js" tppabs="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>

      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      <script type="text/javascript" src="show_ads.js" tppabs="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>

      <br>
      <center>
      <script language="javascript" src="showads.aspx-blogid=20070509000002&charset=big5" tppabs="http://ad2.bloggerads.net/showads.aspx?blogid=20070509000002&charset=big5"></script><br>

      </center>

 </td>




    </tr>




  
  
  
  </tbody>
</table>




<br>



<br>




<br>




<script src="urchin.js" tppabs="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
</html>
