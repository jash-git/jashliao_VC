(function($){$(function(){var po=document.createElement("script");po.type="text/javascript";po.async=true;po.src="//apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s);if(true===/^\/blog\/post\/\d+/.test(document.location.pathname)){pix.trackingClick()}})})(jQuery);function _(s,lang){if(!i18n)return s;if(!s&&!!lang){this.lang=lang}else{l=lang||this.lang||"en_US";return i18n[s]?i18n[s][l]||i18n[s]["en_US"]||s:s}}i18n={"Share to":{en_US:"Share to ",zh_TW:"分享至",ja_JP:"共有",zh_CN:"分享至"}};_(null,"zh_TW");pix=pix||{};if("undefined"!==typeof JSON){pix.stringify=JSON.stringify;pix.parse=JSON.parse}pix.blogsharelog=function(service){jQuery.get("/blog/sharelog?url="+encodeURIComponent(document.location)+"&service="+service)};jQuery(window).load(function(){var param={column:2,display:"",content:0},img=new Image;param.display=screen.width+"x"+screen.height;param.content=jQuery(".article-content:first").width();jQuery("#links>div").each(function(){if("none"!==jQuery(this).css("float")){param.column=3;return false}});img.src="http://pixanalytics.com/b.gif?content="+param.content+"&display="+param.display+"&column="+param.column});pix.trackingClick=function(){var ck_url="http://pixanalytics.com/ck.gif";ck_url+="?referrer="+encodeURIComponent(document.referrer);ck_url+="&pix.openid="+encodeURIComponent(pix.openid);ck_url+="&pix.owner="+encodeURIComponent(pix.owner);ck_url+="&pix.visitor="+encodeURIComponent(pix.visitor);ck_url+="&pix.login_name="+encodeURIComponent(pix.login_name);jQuery("div.article-content").on("click","a",function(){var url=ck_url;var $this=jQuery(this);var img=new Image;url+="&pos=content";url+="&href="+encodeURIComponent($this.attr("href"));url+="&text="+encodeURIComponent($this.html());url+="&r="+Math.random();img.src=url;return});jQuery("#links").on("click","a",function(){var url=ck_url;var $this=jQuery(this);var img=new Image;url+="&pos=sidebar";url+="&href="+encodeURIComponent($this.attr("href"));url+="&text="+encodeURIComponent($this.html());url+="&r="+Math.random();img.src=url;return});jQuery(".article-body").on("click",".pix-related-post a",function(){var url=ck_url;var $this=jQuery(this);var data=$this.data();var img=new Image;var articleCategory=jQuery("#article-box").find(".title").data("site-category")||jQuery("#main").find(".header-title").data("site-category");url+="&pos=related-post-"+data.source;url+="&href="+encodeURIComponent($this.attr("href"));url+="&text="+encodeURIComponent($this.html());url+="&r="+Math.random();if("yahoopartner"===data.source){url+="&source="+data.source;url+="&article_category="+encodeURIComponent(articleCategory);url+="&gd_category="+encodeURIComponent(data.category);url+="&gd_price="+encodeURIComponent(data.price);url+="&gd_name="+encodeURIComponent(data.title)}img.src=url;return})};pix.bookmarkInit=function(title){function _bookmark_linksInit(){var fb_href=jQuery('meta[property="og:url"]').attr("content");var gplus_href=fb_href;return['<!-- MURMUR --><a title="'+_("Share to")+'MURMUR" href="javascript:desc=\'\';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open(\'http://murmur.tw/?sharelink=\'+encodeURIComponent(document.location)));"><img src="//s.pixfs.net/blog/images/common/murmur.gif" title="MURMUR" alt="MURMUR" border="0" style="width:20px;height:20px;"></a>','<!-- facebook --><a title="'+_("Share to")+"facebook\" href=\"javascript:desc='';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open('http://www.facebook.com/share.php?u='+encodeURIComponent('"+fb_href+'\')+\'&t=\'+encodeURIComponent(document.title.split(\'@\')[0].replace(/([\\s]*$)/g,\'\'))));"><img src="//s.pixfs.net/blog/images/common/facebook.gif" title="facebook" alt="facebook" border="0" style="width:18px;height:20px;"></a>','<!-- PLURK --><a title="'+_("Share to")+'PLURK" href="javascript:desc=\'\';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open(\'http://www.plurk.com/?qualifier=shares&status=\'+encodeURIComponent(location.href)));"><img src="//s.pixfs.net/blog/images/common/plurk.gif" title="PLURK" alt="PLURK" border="0" style="width:18px;height:20px;"></a>','<!-- twitter --><a title="'+_("Share to")+'twitter" href="javascript:desc=\'\';if(window.getSelection)desc=window.getSelection();if(document.getSelection)desc=document.getSelection();if(document.selection)desc=document.selection.createRange().text;void(open(\'http://twitter.com/?status=\'+encodeURIComponent(location.href+\' (\'+document.title.split(\'@\')[0].replace(/([\\s]*$)/g,\'\')+\')\')));"><img src="//s.pixfs.net/blog/images/common/twitter.gif" title="twitter" alt="twitter" border="0" style="width:18px;height:20px;"></a>','<!-- google plus --><div style="display:inline-block; *display: none;"><div class="g-plusone" data-size="medium" data-annotation="none" data-href="'+gplus_href+'"></div></div>','<!-- facebook iframe --><iframe src=" http://www.facebook.com/plugins/like.php?href='+encodeURIComponent(fb_href)+'&amp;layout=button_count&amp;show_faces=false&amp;width=90&amp;action=like&amp;font=arial&amp;colorscheme=light&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe>']}var bookmark_links=_bookmark_linksInit();jQuery(function(){bookmark_links.unshift(title);jQuery(".bookmark").html(bookmark_links.join("\n"))})};jQuery(".bookmark a[title*=MURMUR]").live("click",function(){pix.blogsharelog("murmur")});jQuery(".bookmark a[title*=facebook]").live("click",function(){pix.blogsharelog("facebook")});jQuery(".bookmark a[title*=PLURK]").live("click",function(){pix.blogsharelog("plurk")});jQuery(".bookmark a[title*=twitter]").live("click",function(){pix.blogsharelog("twitter")});jQuery("div.hslice.box").live("mouseover",function(){jQuery(this).find("h4 > a").css("display","inline").show()}).live("mouseout",function(){jQuery(this).find("h4 > a").hide()});